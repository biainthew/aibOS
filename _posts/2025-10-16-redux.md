---
layout: post
title: "Redux"
date: 2023-02-06
categories: [general]
tags: [React]
---


> ğŸŒ¼ - ìƒíƒœ ì—…ë°ì´íŠ¸ì— ê´€í•œ ë¡œì§ì„ ëª¨ë“ˆë¡œ ë”°ë¡œ ë¶„ë¦¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ê³¼ ë³„ê°œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì½”ë“œë¥¼ ìœ ì§€ ë³´ìˆ˜í•˜ëŠ” ë° ë„ì›€ì´ ë¨   
> - ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì¼í•œ ìƒíƒœë¥¼ ê³µìœ í•´ì•¼ í•  ë•Œ ë§¤ìš° ìœ ìš©í•˜ë©° ì‹¤ì œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¦¬ë Œë”ë§ë˜ë„ë¡ ì‰½ê²Œ ìµœì í™”í•´ ì¤„ ìˆ˜ë„ ìˆìŒ


## ğŸŒ¼Â ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ ğŸŒ¼


â†’ í”„ë ˆì  í…Œì´ì…”ë„ ì»´í¬ë„ŒíŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒ , í•„ìˆ˜ëŠ” ì•„ë‹˜

- `í”„ë ˆì  í…Œì´ì…”ë„ ì»´í¬ë„ŒíŠ¸` : ì£¼ë¡œ ìƒíƒœ ê´€ë¦¬ê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šê³  props ë¥¼ ë°›ì•„ ì™€ì„œ í™”ë©´ì— UI ë¥¼ ë³´ì—¬ ì£¼ê¸°ë§Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- `ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸` : ë¦¬ë•ìŠ¤ì™€ ì—°ë™ë˜ì–´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë¦¬ë•ìŠ¤ë¡œë¶€í„° ìƒíƒœë¥¼ ë°›ì•„ ì˜¤ê¸°ë„ í•˜ê³  ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•˜ê¸°ë„ í•¨

## ğŸŒ¼Â UI ì¤€ë¹„í•˜ê¸° ğŸŒ¼


```javascript
const Conter = ({ number, onIncrease, onDecrease }) => {
    return (
        <div>
            <h1>{number}</h1>
            <div>
                <button onClick={onIncrease}>+1</button>
                <button onClick={onDecrease}>-1</button>
            </div>
        </div>
    );
};

export default Conter;
```


```javascript
import Conter from './components/Conter';

const App = () => {
    return (
        <div>
            <Conter number={0} />
        </div>
    );
};

export default App;
```


```javascript
const TodoItem = ({ todo, onToggle, onRemove }) => {
    return (
        <div>
            <input type="checkbox" />
            <span>ì˜ˆì œ í…ìŠ¤íŠ¸</span>
            <button>ì‚­ì œ</button>
        </div>
    );
};

const Todos = ({
    input,
    todos,
    onChangeInput,
    onInsert,
    onToggle,
    onRemove,
}) => {
    const onSubmit = (e) => {
        e.preventDefault();
    };
    return (
        <div>
            <form onSubmit={onSubmit}>
                <input type="text" />
                <button type="submit">ë“±ë¡</button>
            </form>
            <div>
                <TodoItem />
                <TodoItem />
                <TodoItem />
                <TodoItem />
                <TodoItem />
            </div>
        </div>
    );
};

export default Todos;
```


ğŸŒ• íŒŒì¼ í•˜ë‚˜ì— ë‘ ì»´í¬ë„ŒíŠ¸ ì„ ì–¸


```javascript
import Conter from './components/Conter';
import Todos from './components/Todos';

const App = () => {
    return (
        <div>
            <Conter number={0} />
            <hr />
            <Todos />
        </div>
    );
};

export default App;
```


## ğŸŒ¼Â ë¦¬ë•ìŠ¤ ì‚¬ìš© ğŸŒ¼


â†’ ì•¡ì…˜ íƒ€ì…, ì•¡ì…˜ ìƒì„± í•¨ìˆ˜, ë¦¬ë“€ì„œ ì½”ë“œ

1. `ì¼ë°˜ì ì¸ êµ¬ì¡°` : action, constants, reducers ì„¸ ê°œì˜ ë””ë ‰í† ë¦¬ ë§Œë“¤ê³  ê·¸ ì•ˆì— ê¸°ëŠ¥ë³„ë¡œ íŒŒì¼ì„ í•˜ë‚˜ì”© ë§Œë“œëŠ” ë°©ì‹
â†’ ìƒˆë¡œìš´ ì•¡ì…˜ì„ ë§Œë“¤ ë•Œë§ˆë‹¤ ì„¸ ì¢…ë¥˜ì˜ íŒŒì¼ì„ ëª¨ë‘ ìˆ˜ì •í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí¸í•  ìˆ˜ë„ ìˆì§€ë§Œ ê°€ì¥ ê¸°ë³¸ì 
2. `Ducks íŒ¨í„´` : ì„¸ ê°œë¥¼ ê¸°ëŠ¥ë³„ë¡œ íŒŒì¼ í•˜ë‚˜ì— ëª°ì•„ì„œ ë‹¤ ì‘ì„± / ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•œ ì½”ë“œë¥¼ `ëª¨ë“ˆ` ì´ë¼ê³  í•¨

```javascript
const INCREASE = 'counter/INCREASE';
const DECREASE = 'counter/DECREASE';
```


ğŸŒ• **ì•¡ì…˜ íƒ€ì… ì •ì˜** : ëŒ€ë¬¸ìë¡œ, â€˜ëª¨ë“ˆ ì´ë¦„ / ì•¡ì…˜ ì´ë¦„â€™ , ëª¨ë“ˆ ì´ë¦„ì„ ë„£ëŠ” ì´ìœ ëŠ” í”„ë¡œì íŠ¸ê°€ ì»¤ì¡Œì„ ë•Œ ì•¡ì…˜ ì´ë¦„ì´ ì¶©ëŒí•˜ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•´ì„œ


```javascript
const INCREASE = 'counter/INCREASE';
const DECREASE = 'counter/DECREASE';

export const increase = () => ({ type: INCREASE });
export const decrease = () => ({ type: DECREASE });
```


ğŸŒ• **ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ ë§Œë“¤ê¸°** : ì•ë¶€ë¶„ì— export ê°€ ë“¤ì–´ê° â†’ ì¶”í›„ì— ì´ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš© ê°€ëŠ¥


```javascript
const INCREASE = 'counter/INCREASE';
const DECREASE = 'counter/DECREASE';

export const increase = () => ({ type: INCREASE });
export const decrease = () => ({ type: DECREASE });

const initialState = {
    number: 0,
};

function counter(state = initialState, action) {
    switch (action.type) {
        case INCREASE:
            return {
                number: state.number + 1,
            };
        case DECREASE:
            return {
                number: state.number - 1,
            };
        default:
            return state;
    }
}

export default counter;
```


ğŸŒ• **ì´ˆê¸° ìƒíƒœ ë° ë¦¬ë“€ì„œ í•¨ìˆ˜ ë§Œë“¤ê¸°**
- ì´ˆê¸° ìƒíƒœì—ëŠ” number ê°’ ì„¤ì •, ë¦¬ë“€ì„œ í•¨ìˆ˜ì—ëŠ” í˜„ì¬ ìƒíƒœë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•˜ëŠ” ì½”ë“œ


> ğŸ `export` ëŠ” ì—¬ëŸ¬ ê°œë¥¼ ë‚´ë³´ë‚¼ ìˆ˜ ìˆì§€ë§Œ `export default` ëŠ” í•œ ê°œë§Œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤


```javascript
const CHANGE_INPUT = 'todos/CHANGE_INPUT'; //ì¸í’‹ ê°’ì„ ë³€ê²½
const INSERT = 'todos/INSERT'; //ìƒˆë¡œìš´ todo ë“±ë¡
const TOGGLE = 'todos/TOGGLE'; //todo ë¥¼ ì²´í¬, ì²´í¬í•´ì œ í•¨
const REMOVE = 'todos/REMOVE'; //todo ë¥¼ ì œê±°í•¨

export const changeInput = (input) => ({
    type: CHANGE_INPUT,
    input,
});
let id = 3; // insert ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ 1ì”© ë”í•´ì§
export const insert = (text) => ({
    type: INSERT,
    todo: {
        id: id++,
        text,
        done: false,
    },
});
export const toggle = (id) => ({
    type: REMOVE,
    id,
});
```


ğŸŒ• **ì•¡ì…˜ íƒ€ì… ì •ì˜, ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ ë§Œë“¤ê¸°**
- ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ ì¤‘ insert í•¨ìˆ˜ëŠ” ì•¡ì…˜ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ íŒŒë¼ë¯¸í„° ì™¸ì— ì‚¬ì „ì— ì´ë¯¸ ì„ ì–¸ë˜ì–´ ìˆëŠ” `id` ë¼ëŠ” ê°’ì—ë„ ì˜ì¡´
- ì´ ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ëŠ” í˜¸ì¶œë  ë•Œë§ˆë‹¤ id ê°’ì— 1ì”© ë”í•´ ì¤Œ


```javascript
const CHANGE_INPUT = 'todos/CHANGE_INPUT'; //ì¸í’‹ ê°’ì„ ë³€ê²½
const INSERT = 'todos/INSERT'; //ìƒˆë¡œìš´ todo ë“±ë¡
const TOGGLE = 'todos/TOGGLE'; //todo ë¥¼ ì²´í¬, ì²´í¬í•´ì œ í•¨
const REMOVE = 'todos/REMOVE'; //todo ë¥¼ ì œê±°í•¨

export const changeInput = (input) => ({
    type: CHANGE_INPUT,
    input,
});
let id = 3; // insert ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ 1ì”© ë”í•´ì§
export const insert = (text) => ({
    type: INSERT,
    todo: {
        id: id++,
        text,
        done: false,
    },
});
export const toggle = (id) => ({
    type: REMOVE,
    id,
});
const initialState = {
    input: '',
    todos: [
        { id: 1, text: 'ë¦¬ë•ìŠ¤ ê¸°ì´ˆ ë°°ìš°ê¸°', done: true },
        { id: 2, text: 'ë¦¬ì•¡íŠ¸ì™€ ë¦¬ë•ìŠ¤ ì‚¬ìš©í•˜ê¸°', done: false },
    ],
};
function todos(state = initialState, action) {
    switch (action.type) {
        case CHANGE_INPUT:
            return {
                ...state,
                input: action.input,
            };
        case INSERT:
            return {
                ...state,
                todos: state.todos.concat(action.todo),
            };
        case TOGGLE:
            return {
                ...state,
                todos: state.todos.map((todo) =>
                    todo.id === action.id
                        ? { ...todo, done: !todo.done }
                        : todo,
                ),
            };
        case REMOVE:
            return {
                ...state,
                todos: state.todos.filter((todo) => todo.id !== action.id),
            };
        default:
            return state;
    }
}
export default todos;
```


ğŸŒ• **ì´ˆê¸° ìƒíƒœ ë° ë¦¬ë“€ì„œ í•¨ìˆ˜ ë§Œë“¤ê¸°**
- ê°ì²´ì— í•œ ê°œ ì´ìƒì˜ ê°’ì´ ë“¤ì–´ê°€ë¯€ë¡œ ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ ì£¼ì–´ì•¼ í•¨, spread ì—°ì‚°ì í™œìš©, ë°°ì—´ì— ë³€í™”ë¥¼ ì¤„ ë•ŒëŠ” ë°°ì—´ ë‚´ì¥ í•¨ìˆ˜ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„


```javascript
import { combineReducers } from 'redux';
import counter from './counter';
import todos from './todos';

const rootReducer = combineReducers({
    counter,
    todos,
});

export default rootReducer;
```


ğŸŒ• **ë£¨íŠ¸ ë¦¬ë“€ì„œ ë§Œë“¤ê¸°**
- ë‚˜ì¤‘ì— createStore í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í† ì–´ë¥¼ ë§Œë“¤ ë•ŒëŠ” ë¦¬ë“€ì„œë¥¼ í•˜ë‚˜ë§Œ ì‚¬ìš©í•´ì•¼ í•¨ â†’ ê¸°ì¡´ì— ë§Œë“  ë¦¬ë“€ì„œë¥¼ í•˜ë‚˜ë¡œ í•©ì³ ì£¼ì–´ì•¼ í•¨ `combineReducers` ë¥¼ ì‚¬ìš©í•´ì„œ

