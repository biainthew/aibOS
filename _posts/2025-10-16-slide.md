---
layout: post
title: "Slide"
date: 2022-12-06
categories: [general]
tags: [Javascript/Jquery]
excerpt_separator: ""
---



### ✨ 예제


```javascript
document.addEventListener('DOMContentLoaded', function(){
    const slideWrap=document.querySelector('.container');
    const slideContainer=document.querySelector('.list'); //ul
    const slide=document.querySelectorAll('.slide'); //li
    const slidPrev=document.getElementById('prev');
    const slidNext=document.getElementById('next');
    const pager=document.querySelector('.pager');
    const pagerBtn=document.querySelectorAll('.pager span');
    let slideHeight=0;
    let currentIndex=0;
    let slideCount=slide.length; //li 개수
    let timer=undefined;

   //let  topheight=slide[0].offsetHeight;
   //console.log(topheight)

   for(let i=0; i<slideCount; i++){ //li 개수만큼 반복문
        if(slideHeight< slide[i].offsetHeight){ //만약 slideHeight가 i번째 li의 offsetheight보다 작으면
            slideHeight=slide[i].offsetHeight; // slideHeight에 li의 offsetheight 를 대입
        }
   }
   //console.log(slideHeight);
   // 가장 큰 높이값
   slideWrap.style.height=slideHeight+'px'; //container의 높이에 slideHeight값 + 'px' 을 대입
   slideContainer.style.height=slideHeight+'px'; //ul의 높이에 slideHeight값 + 'px' 을 대입

   //가로배열
   for(let j=0; j<slideCount; j++){ //li의 개수만큼 반복문
        slide[j].style.left=j*100 +'%'; //j번째 li를 left j*100 % 보냄 / 0 100 200 300 ... position absolute로 뭉쳐있는 애들을 펼치기 위해서
   }

   //슬라이드 함수
   function goToSlide(idx){ //goToSlide 라는 이름의 함수 매개변수 idx / 각각 다른 위치를 주기 위해서 매개변수 지정
    slideContainer.classList.add('animated'); //ul에 transition 속성 추가
    slideContainer.style.left=-100*idx+'%'; //ul 을 left 로 -100*idx+'%' 이동 / 0 -100 -200 -300 ...
    currentIndex=idx; //??
    for(let k=0; k<pagerBtn.length; k++){ //숫자 있던 span 개수만큼 반복문
        pagerBtn[k].classList.remove('active'); //k번째 span에 .active 지움 / 결국 일단 다 지우는거
    }
    pagerBtn[idx].classList.add('active'); //idx번째 span에만 .active 추가
    }
   goToSlide(0);

   //버튼 클릭하면 이동
   slidNext.addEventListener('click',function(){  //다음 버튼을 클릭하면 함수 발생
        //goToSlide(currentIndex+1);
        if(currentIndex==slideCount-1){ // 만약 currentIndex 가 li 개수 -1 과 같다면 // li 6개 currentIndex 5 에서 다음버튼 누르면 맨 앞 페이지로 가기 위해서
           // slidNext.classList.add('disabled')
            goToSlide(0) // 처음으로 돌아가
        }else{
           // slidNext.classList.remove('disabled')
            goToSlide(currentIndex+1); //같지 않다면 currentIndex+1 한 함수 실행
        }
   });
   slidPrev.addEventListener('click', function(){ //이전 버튼 클릭하면 함수 발생
        if(currentIndex==0){ // 만약 currentIndex가 0이면
            goToSlide(slideCount-1) //li개수 -1 번째로 가 / li 는 6개 , 첫 페이지에서 이전 버튼을 누르면 마지막으로 가야하니까 li[5] 로 가기 위해서
        }else{
            goToSlide(currentIndex-1); //아니면 자기자신 -1 번째로 가 /1이면 0번째 첫번째 li, 2면 1번째 두번째 li
        }
   });
   //자동슬라이드
   
   autoSlide();
   function autoSlide(){
        timer=setInterval(function(){ //timer 에 반복 함수 대입
            let nextIdx=(currentIndex +1) % slideCount; //nextIdx 에 currentIndex+1 을 li 개수로 나눈 값을 대입 / currentindex 0으로 시작 1, 1 2, 2 3 /?그냥 플러스1만 하면 안되나요
            // console.log(nextIdx);
            goToSlide( nextIdx); //그 값 번째 li 보여줘
        },3000);
   }

   //멈춤기능
   function stopAutoSlide(){ //함수 이름 stopAutoSlide
        clearInterval(timer) //반복함수 멈추는 함수 생성
   }

   slideWrap.addEventListener('mouseenter', function(){ //.container 에 마우스 올리면 멈춰
        stopAutoSlide();
   })
   slideWrap.addEventListener('mouseleave', function(){ //.container 에서 마우스 빼면 다시 가
        autoSlide();
   })

   //pager으로 슬라이드
   for(let i=0; i<pagerBtn.length; i++){  // span 개수만큼 반복문
    pagerBtn[i].addEventListener('click', function(e){ //i 번째 span 에 클릭하면 발생할 이벤트 함수는
        //console.log(e.target);
        let pagerNum=e.target.innerText-1; //pagerNum에 내가 클릭하는 그 타겟 의 innerText(속성, 태그 안의 텍스트를 가져옴) -1 값을 대입 / innertext가 1이면 pagerNum은 0
       // console.log(pagerNum)
        goToSlide(pagerNum) //pagerNum번째 li로 가
    })
   }
});
```

