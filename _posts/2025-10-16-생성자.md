---
layout: post
title: "생성자"
date: 2025-01-14
categories: [general]
tags: [Java]
excerpt_separator: ""
---



클래스의 인스턴스를 생성할 때 호출되는 특별한 메서드로 객체를 초기화 하는 역할을 하고 클래스와 동일한 이름을 가지며 반환 타입이 없음


### 특징

1. 클래스와 이름이 동일해야 함

    {% raw %}
```java
    class MyClass {
    	MyClass() {
    		// 생성자
    	}
    }
    ```
{% endraw %}

2. 반환 타입이 없음 (void도 사용하지 않음)

    {% raw %}
```java
    class MyClass {
        MyClass() {
            System.out.println("생성자가 호출되었습니다.");
        }
    }
    ```
{% endraw %}

3. 객체가 생성될 때 자동으로 호출됨

    {% raw %}
```java
    MyClass obj = new MyClass(); // 생성자가 자동 호출됨
    ```
{% endraw %}

4. 오버로딩이 가능함 (여러 개의 생성자를 정의 가능)

    {% raw %}
```java
    class MyClass {
        MyClass() {
            System.out.println("기본 생성자");
        }
    
        MyClass(String message) {
            System.out.println("메시지: " + message);
        }
    }
    ```
{% endraw %}


### 종류

1. 기본 생성자
- 개발자가 생성자를 정의하지 않으면 컴파일러가 자동으로 제공하는 생성자
- 아무런 매개변수나 동작이 없고 객체를 생성할 수 있게 함

    {% raw %}
```java
    class MyClass {
        // 기본 생성자가 암묵적으로 제공됨
    }
    
    MyClass obj = new MyClass(); // 기본 생성자가 호출됨
    ```
{% endraw %}

1. 사용자 정의 생성자
- 개발자가 직접 정의한 생성자로 객체 생성 시 초기값을 설정할 수 있음
- 사용자 정의 생성자가 있는 경우에는 기본 생성자는 제공되지 않음

    {% raw %}
```java
    class MyClass {
        String name;
    
        // 사용자 정의 생성자
        MyClass(String name) {
            this.name = name;
        }
    }
    
    MyClass obj = new MyClass("Alice"); // name 필드가 "Alice"로 초기화
    ```
{% endraw %}

1. 매개변수가 있는 생성자
- 객체 생성 시 필요한 데이터를 전달받아 필드를 초기화함

    {% raw %}
```java
    class Person {
        String name;
        int age;
    
        Person(String name, int age) {
            this.name = name;
            this.age = age;
        }
    }
    
    Person person = new Person("Bob", 30); // 이름과 나이를 설정
    ```
{% endraw %}

1. 복사 생성자
- 기존 객체의 데이터를 기반으로 새로운 객체를 생성함

    {% raw %}
```java
    class MyClass {
        String data;
    
        MyClass(String data) {
            this.data = data;
        }
    
        // 복사 생성자
        MyClass(MyClass other) {
            this.data = other.data;
        }
    }
    
    MyClass obj1 = new MyClass("Hello");
    MyClass obj2 = new MyClass(obj1); // obj1의 값을 복사
    ```
{% endraw %}


### 역할

1. 필드 초기화 (객체 생성 시 필드에 초기값 설정)

    {% raw %}
```java
    class MyClass {
        int value;
    
        MyClass(int value) {
            this.value = value;
        }
    }
    
    MyClass obj = new MyClass(10); // value가 10으로 초기화
    ```
{% endraw %}

2. 필수 초기화 강제 (생성자를 통해 필요한 데이터를 반드시 입력받도록 강제할 수 있음)

    {% raw %}
```java
    class MyClass {
        String name;
    
        MyClass(String name) {
            if (name == null || name.isEmpty()) {
                throw new IllegalArgumentException("Name은 필수입니다.");
            }
            this.name = name;
        }
    }
    ```
{% endraw %}

3. 객체 일관성 유지 (초기화되지 않은 상태에서 객체를 사용할 위험을 줄임)

## this()를 사용한 생성자 호출


클래스 내에서 다른 생성자를 호출할 때 this()를 사용함


### 왜 this()를 사용 ?

1. 코드 중복 방지

    여러 생성자가 공통된 초기화 작업을 수행해야 할 때 초기화 코드를 중복 작성하지 않고 하나의 생성자를 호출해 재사용할 수 있음

2. 가독성 향상

    초기화 로직이 한 곳에 집중되므로 코드가 더 깔끔하고 이해하기 쉬워짐


### this() 사용법

1. this() 는 같은 클래스의 다른 생성자를 호출함
2. 생성자의 첫 줄에서만 호출할 수 있음

### 예제

1. 중복 코드가 있는 경우

    {% raw %}
```java
    class Person {
    	String name;
    	int age;
    	
    	// 생성자1
    	Person(String name) {
    		this.name = name;
    		this.age = 0; // 기본 값
    	}
    	
    	Person(String name, int age) {
    		this.name = name;
    		this.age = age; // 중복 초기화 코드
    	}
    }
    ```
{% endraw %}

2. this() 로 중복 제거

    {% raw %}
```java
    class Person {
    	Stiring name;
    	int age;
    	
    	// 생성자1
    	Person(String name) {
    		this(name, 0); // 생성자2 호출
    	}
    	
    	// 생성자 2
      Person(String name, int age) {
          this.name = name;
          this.age = age;
      }
    }
    ```
{% endraw %}

