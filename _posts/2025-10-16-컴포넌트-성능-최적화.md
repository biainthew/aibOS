---
layout: post
title: "ì»´í¬ë„ŒíŠ¸ ì„±ëŠ¥ ìµœì í™”"
date: 2023-02-01
categories: [general]
tags: [React]
excerpt_separator: ""
---



```javascript
const [todos, setTodos] = useState(createBulkTodos);
```


ğŸŒ€ íŒŒë¼ë¯¸í„°ë¥¼ í•¨ìˆ˜í˜•íƒœë¡œ ë„£ì–´ì£¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ createBulkTodos í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/a5c9625a-731a-4957-8af8-a96cb7a59ea8/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U3YDGEHT%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111804Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQDfkJoNjA85Rhf5pp%2FWuI4aQ1YBWWpp0BE3DdaauKEuxgIgcCZGkjV5AMG5FzgYbC%2FRcupnPiUBhRUuIklubOpbmKwq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDKf%2FMQT1K0RYZfnC%2BCrcA0ggzG5Q1DnT0ZZz4%2BQnwJE6%2B1%2B4GlyIqMowex2rVW%2BLaGqmygftXLgcxgzfGqk5u5QJQd5UyScwatR%2F6ZGFiH8LkqfD6D4gh5ANbiL66FmtcjGY4ba9ReNohp9oD2ak0YJ3bOL7MfJq1QxPSDY8yZKiogjWER3tJtPpvEB9ek9OXjcEqkeyCB7EnqXBexfWEr4Bll2OsMU2PaSJvQrGX6oPDCSc01KcQT%2BMg6JBysZd4k6iOHdt7VsVXh4STLqJVMgIDnWtB808VDrC2EzJULxdlJxX56Qhystwn0rBrBD%2FWGDHwj50bp0MUePRqdXSw18PleI6CQjL6P5fXuP7FEBD4YiAMhjahvLd0RX03vb5pJJgC%2FspiqlIXLMfFdLs0if2HIEXwg0jBq51sSXO8BYr8mUkXGtd8pGrenr9vEJp3aO9AnuNnvzHk5KtzIX7n2MNKM94a6d3ntWVqg5L14vRaY86T5%2FgTeSXIjG4AUQpknH5iqtr1dn653u41vYxlPrh7UH4YqDB1cMsdvDe1yo5oQpiNOJQMfo7K%2FULuRCJl3Mx17%2BPIFvWExADHAVB7UfSjbocapCwrloiNDOt4o9PkhpnenvOol7cij9OTsV%2FCQM5kAVq05WG9kb2MKb73MsGOqUBMdbY01sm6UpQF3xi9wn2ToO5Wg9vBY4xR5ROOuvtvqGlpet752giAyRCN0c5FWZG2oLFDy95plZwGdKPn1%2Bm9ZmrBwZMP%2FHtdaER2VJEk46lKlVmaS5rRxieLSpqKN5H0R31WBZG5Bc9e8ulDLP6coxhMAI6B4zL7xOLQx400lUAIYOdeOn923o9rpphxkPILfIfbvDXom33fNJ3xBtXN%2B2fET4n&X-Amz-Signature=7f46310e12bf376e28f040309839f1cb50670004299ff093e32b4f5cb07b127c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ğŸŒ€ í¬ë¡¬ ê°œë°œì ë„êµ¬ì— profiler ì—ì„œ ì„±ëŠ¥ í™•ì¸ ê°€ëŠ¥ / íŒŒë€ë²„íŠ¼ ë ˆì½”ë“œ


### âœ”ï¸Â ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ëŠ” ìƒí™©


1 ) ìì‹ ì´ ì „ë‹¬ë°›ì€ props ê°€ ë³€ê²½ë  ë•Œ


2 ) ìì‹ ì˜ state ê°€ ë°”ë€” ë•Œ


3 ) ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë  ë•Œ


4 ) forceUpdate í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ


```javascript
import React from 'react';

import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import cn from 'classnames';
import './TodoListItem.scss';

const TodoListItem = ({ todo, onRemove, onToggle }) => {
    const { id, text, checked } = todo;
    return (
        <div className="TodoListItem">
            <div
                className={cn('checkbox', { checked })}
                onClick={() => onToggle(id)}
            >
                {checked ? <MdCheckBox /> : <MdCheckBoxOutlineBlank />}
                <div className="text">{text}</div>
            </div>
            <div
                className="remove"
                onClick={() => {
                    onRemove(id);
                {% raw %}}}{% endraw %}
            >
                <MdRemoveCircleOutline />
            </div>
        </div>
    );
};

export default React.memo(TodoListItem);
```


ğŸŒ€ ì»´í¬ë„ŒíŠ¸ì˜ props ê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ì„ í•˜ì§€ ì•Šê²Œ í•˜ëŠ” ë°©ë²• : ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  memo ë¡œ ê°ì‹¸ì£¼ê¸°ë§Œ í•˜ë©´ ë¨


ğŸŒ€ ì´ì œ ì´ ì»´í¬ë„ŒíŠ¸ëŠ” todo, onRemove, onToggle ì´ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ì„ í•˜ì§€ ì•ŠìŒ


```javascript
setTodos(todos.concat(todo));

setTodos((todos) => todos.concat(todo));
```


ğŸŒ€ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë°”ê¾¸ë©´ ì„±ëŠ¥ í–¥ìƒ


ğŸŒ€ ìƒˆë¡œìš´ ìƒíƒœë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„£ëŠ” ëŒ€ì‹  ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì–´ë–»ê²Œ í•  ì§€ ì •ì˜í•´ ì£¼ëŠ” ì—…ë°ì´íŠ¸ í•¨ìˆ˜ ë„£ê¸° â‡’ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸


```javascript
import { useReducer, useState, useRef, useCallback } from 'react';
import TodoTemplate from './components/TodoTemplate';
import TodoInsert from './components/TodoInsert';
import TodoList from './components/TodoList';

function createBulkTodos() {
    const array = [];
    for (let i = 1; i <= 2500; i++) {
        array.push({
            id: i,
            text: `í•  ì¼ ${i}`,
            checked: false,
        });
    }
    return array;
}
function todoReducer(todos, action) {
    switch (action.type) {
        case 'INSERT':
            return todos.concat(action.todo);
        case 'REMOVE':
            return todos.filter((todo) => todo.id !== action.id);
        case 'TOGGLE':
            return todos.map((todo) =>
                todo.id === action.id
                    ? { ...todo, checked: !todo.checked }
                    : todo,
            );
        default:
            return todos;
    }
}
const App = () => {
    const [todos, dispatch] = useReducer(
        todoReducer,
        undefined,
        createBulkTodos,
    );
    const nextId = useRef(2501);
    const onInsert = useCallback((text) => {
        const todo = {
            id: nextId.current,
            text,
            checked: false,
        };
        dispatch({ type: 'INSERT', todo });
        nextId.current += 1;
    }, []);
    const onRemove = useCallback((id) => {
        dispatch({ type: 'REMOVE', id });
    }, []);
    const onToggle = useCallback((id) => {
        dispatch({ type: 'TOGGLE', id });
    }, []);
    return (
        <TodoTemplate>
            <TodoInsert onInsert={onInsert} />
            <TodoList todos={todos} onRemove={onRemove} onToggle={onToggle} />
        </TodoTemplate>
    );
};
export default App;
```


ğŸŒ€ useReducer ì‚¬ìš©í•  ë•ŒëŠ” ì›ë˜ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ì´ˆê¸° ìƒíƒœë¥¼ ë„£ì–´ ì£¼ì–´ì•¼ í•¨ ì§€ê¸ˆì€ ê·¸ ëŒ€ì‹  ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— undefined ë¥¼ ë„£ê³  ì„¸ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ì´ˆê¸° ìƒíƒœë¥¼ ë§Œë“¤ì–´ ì£¼ëŠ” í•¨ìˆ˜ì¸ createBulkTodos ë¥¼ ë„£ì–´ì¤Œ , ì»´í¬ë„ŒíŠ¸ê°€ ë§¨ ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ í•¨ìˆ˜ê°€ í˜¸ì¶œë¨


ğŸŒ€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§ì´ ê³ ì³ì•¼ í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë¡œì§ì„ ëª¨ì•„ì„œ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ë‘˜ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŒ / ì„±ëŠ¥ìƒìœ¼ë¡œëŠ” ë‘ê°€ì§€ ë°©ë²•ì´ ë¹„ìŠ·


```javascript
import React from 'react';
import TodoListItem from './TodoListItem';
import './TodoList.scss';

const TodoList = ({ todos, onRemove, onToggle }) => {
    return (
        <div className="TodoList">
            {todos.map((todo) => (
                <TodoListItem
                    todo={todo}
                    key={todo.id}
                    onRemove={onRemove}
                    onToggle={onToggle}
                />
            ))}
        </div>
    );
};

export default React.memo(TodoList);
```


ğŸŒ€ ë¦¬ìŠ¤íŠ¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‘ì„±í•  ë•ŒëŠ” ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œê³¼ ë¦¬ìŠ¤íŠ¸ ì´ ë‘ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœì í™”í•´ì¤˜ì•¼í•¨ ê¼­


```javascript
import React, { useCallback } from 'react';
import TodoListItem from './TodoListItem';
import './TodoList.scss';
import { List } from 'react-virtualized';

const TodoList = ({ todos, onRemove, onToggle }) => {
    const rowRenderer = useCallback(
        ({ index, key, style }) => {
            const todo = todos[index];
            return (
                <TodoListItem
                    todo={todo}
                    key={key}
                    onRemove={onRemove}
                    onToggle={onToggle}
                    style={style}
                />
            );
        },
        [onRemove, onToggle, todos],
    );
    return (
        <List
            className="TodoList"
            width={512} //ì „ì²´ í¬ê¸°
            height={513} //ì „ì²´ ë†’ì´
            rowCount={todos.length} //í•­ëª© ê°œìˆ˜
            rowHeight={57} //í•­ëª© ë†’ì´
            rowRenderer={rowRenderer} //í•­ëª©ì„ ë Œë”ë§ í•  ë•Œ ì“°ëŠ” í•¨ìˆ˜
            list={todos} //ë°°ì—´
            style={% raw %}{{{% endraw %} outline: 'none' {% raw %}}}{% endraw %} //List ì— ê¸°ë³¸ ì ìš©ë˜ëŠ” outline ìŠ¤íƒ€ì¼ ì œê±°
        />
    );
};

export default React.memo(TodoList);
```


ğŸŒ€ List ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ rowRenderer ë¼ëŠ” í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ì‘ì„±í•¨ > react-virtualized ì˜ List ì»´í¬ë„ŒíŠ¸ì—ì„œ ê° TodoItem ì„ ë Œë”ë§ í•  ë•Œ ì‚¬ìš©í•˜ë©° ì´ í•¨ìˆ˜ë¥¼ List ì»´í¬ë„ŒíŠ¸ì˜ props ë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•¨


ğŸŒ€ List ì•ˆì— ë„£ì€ ê²ƒë“¤(propsë¡œ ì „ë‹¬ë°›ìŒ) ì„ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ìµœì í™” í•´ì¤Œ


```javascript
import React from 'react';

import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import cn from 'classnames';
import './TodoListItem.scss';

const TodoListItem = ({ todo, onRemove, onToggle, style }) => {
    const { id, text, checked } = todo;
    return (
        <div className="TodoListItem-virtualized" style={style}>
            <div className="TodoListItem">
                <div
                    className={cn('checkbox', { checked })}
                    onClick={() => onToggle(id)}
                >
                    {checked ? <MdCheckBox /> : <MdCheckBoxOutlineBlank />}
                    <div className="text">{text}</div>
                </div>
                <div
                    className="remove"
                    onClick={() => {
                        onRemove(id);
                    {% raw %}}}{% endraw %}
                >
                    <MdRemoveCircleOutline />
                </div>
            </div>
        </div>
    );
};

export default React.memo(TodoListItem);
```


ğŸŒ€ render í•¨ìˆ˜ì—ì„œ ê¸°ì¡´ì— ë³´ì—¬ì£¼ë˜ ë‚´ìš©ì„ div ë¡œ í•œë²ˆ ê°ì‹¸ê³  í´ë˜ìŠ¤ë„¤ì„ ì£¼ê³  í”„ë¡­ìŠ¤ë¡œ ë°›ì•„ì˜¨ ìŠ¤íƒ€ì¼ ì ìš©


ğŸŒ€ í´ë˜ìŠ¤ë¥¼ ì¤€ ì´ìœ ëŠ” ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì‚¬ì´ì— í…Œë‘ë¦¬ë¥¼ ì œëŒ€ë¡œ ì³ì£¼ê³  í™€ìˆ˜ë²ˆì§¸ ì§ìˆ˜ë²ˆì§¸ í•­ëª©ì— ë‹¤ë¥¸ ë°°ê²½ ìƒ‰ìƒì„ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ


### ì •ë¦¬


â—ë¦¬ìŠ¤íŠ¸ì™€ ê´€ë ¨ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ë³´ì—¬ ì¤„ í•­ëª©ì´ 100ê°œ ì´ìƒì´ê³  ì—…ë°ì´íŠ¸ê°€ ìì£¼ ë°œìƒí•œë‹¤ë©´ ìµœì í™” í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•¨

