---
layout: post
title: "[SQLD]개념 정리 2과목 2"
date: 2024-03-05
categories: [general]
tags: [Test]
excerpt_separator: ""
---



# 2과목 Part 2


## 그룹함수


### GROUPING SETS


**A별, B별** 그룹 연산 결과 출력


나열 연산 중요하지 않음


기본 출력에 총계는 출력되지 않음


NULL 혹은 () 사용하여 전체 총 합 출력 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/cf7feba0-e689-4431-bcd2-8f74eade66b6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=8b244b15e1f12b92e4ac600211377c65724027e9cad25cb3e5e36059f75f40f6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0ea4ea0c-9e92-4e5d-be89-24f045ef6aa0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=0d613640ae3057b083b475836b1943aa9da6c73a221a6573bce1b1659221b71b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0c1a437e-3cdd-49fb-a5b7-f95cd840e796/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=d41a3f4de4e4b247fb53afd3e55966561d4310caf48c58d9384cbe032c5528bf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### ROLLUP


A별, (A,B) 별 전체 그룹 연산 결과 출력


나열 대상의 순서가 중요함


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/415785ba-2282-4c64-90a0-fd356d463edb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=c70f2dd57271b19bf058387d22580fa1d218ca9509c663d5e55e766b9494da79&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/2e1d0d02-6296-4a5e-bab9-487cdbd9cad7/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=112b408d90d65f0b09ab8895cbc1d6c7c8fb8628bb828e45b9b3d2cf4a079e8e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### CUBE


A별, B별, (A,B)별, 전체 그룹 연산 결과 출력됨


그룹으로 묶을 대상의 나열 순서 중요하지 않음


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/08d06145-4bce-4ca5-8926-fb59b9b73be3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=4fc32cd771aa983c25555328020db06dfddd560b32161a4306a0f0ce84b79cdd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/bb08497d-4d58-44b1-a5cf-d031054ec461/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=b40770eafbabe765bae8f2487de4ac4a2659276c59807c99aa4e2376e0c63ffd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/93623e6f-8f07-46df-8d13-e37e89d5f428/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=f6257645fabcabed615587c205ea94f91f9251684b63e5a8aef80f661a53a14b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 윈도우 함수


서로 다른 행의 비교나 연산을 위해 만든 함수


GROUP BY 쓰지 않고 그룹 연산 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/df9e8395-6938-410d-b08c-121d72f4a5eb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=5ecb300af868e045c476a6af81f9483228855da5b403554564e220e297064188&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**PARTITION BY 절** : 출력할 총 데이터 수 변화 없이 그룹연산 수행할 GROUP BY 컬럼


**ORDER BY 절** : RANK 의 경우 필수, 누적값 출력 시 사용


**ROWS | RANGE BETWEEN A AND B** : 연산 범위 설정, ORDER BY 필수


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/665e9f32-e77d-470b-b763-80ee7144f617/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104858Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=e832d171c79b53edfe65633746031c6b7258748ff84b7f02822f5a9787b88a7c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 그룹 함수의 형태를 지닌 윈도우 함수


SUM, COUNT, AVG, MIN, MAX


OVER 절을 사용하여 윈도우 함수로 사용 가능


반드시 연산할 대상을 그룹함수의 입력값으로 전달


### SUM OVER, AVG, MIN, MAX


: 전체 총 합, 그룹별 총 합 출력 가능


예) 각 직원 정보와 함께 급여 총 합 출력 → 그룹함수 결과는 SELECT 절에 쓸 수 없음


→ 윈도우 함수를 사용하면 원뎁스로 작성 가능 → 성능 굳


### 윈도우 함수의 연산 범위 : 집계 연산 시 행의 범위 설정 가능

1. **ROWS, RANGE 차이**
    1. **ROWS** : 값이 같더라도 각 행 씩 연산
    2. **RANGE** : 같은 값의 경우 하나의 RANGE 로 묶어서 동시 연산(**DEFAULT**)
2. **BETWEEN A AND B**
    1. **시작점 정의**
        1. **CURRENT ROW** : 현재 행부터
        2. **UNBOUNDED PRECENING** : 처음부터(**DEFAULT**)
        3. **N PRECEDING** : N 이전부터
    2. **마지막 시점 정의**
        1. **CURRENT ROW** : 현재 행까지(**DEFAULT**)
        2. **UNBOUNDED FOLLOWING** : 마지막까지
        3. **N FOLLOWING** : N 이후까지

### 순위 관련 함수


**RANK WITHIN GROUP**

- 특정값에 대한 순위 확인
- 윈도우 함수가 아닌 일반함수

**RANK OVER :** 순위 스킵

- 전체 / 특정 그룹 중 값의 순위 확인
- ORDER BY 절 필수
- 순위를 구할 대상을 ORDER BY 절에 명시(여러 개 나열 가능)
- 그룹 내 순위 구할 시 PARTITION BY 절 사용

**DENSE_RANK**

- 누적 순위
- 값이 같을 때 동일한 순위 부여 후 다음 순위가 바로 이어지는 순위 부여 방식

**ROW_NUMBER**

- 연속된 행 번호
- 동일한 순위 인정하지 않고 단순히 순서대로 나열한  순서 값 리턴

**LAG, LEAD**

- 행 순서대로 이전 값(LAG), 이후 값(LEAD) 가져오기

**NTILE**

- 행을 특정 컬럼 순서에 따라 정해진 수의 그룹으로 나누기 위한 함수
- 그룹 번호가 리턴됨
- ORDER BY 필수
- PARTITION BY 를 사용하여 특정 그룹을 또 원하는 수만큼 그룹 분리 가능

### 비율 관련 함수


**RATIO_TO_REPORT**

- 각 값의 비율 리턴(전체 비율 또는 특정 그룹 내 비율 가능)
- ORDER BY 사용 불가

**CUME_DIST :** 누적 비율

- ORDER BY 필수(누적 비율을 구하는 순서 정할 수 있음)

**PERCENT_RANK**

- 분위수 출력
- 전체 COUNT 중 상대적 위치 출력
- ORDER BY 필수

### **TOP N QUERY**


페이징 처리를 효과적으로 수행하기 위해 사용


전체 결과에서 특정 N개 추출


예) 성적 상위 세 명


### **TOP N 행 추출 방법**

1. ROWNUM
2. RANK
3. FETCH

### ROWNUM


출력된 데이터 기준으로 행 번호 부여


절대적인 행 번호가 아닌 가상의 번호이므로 특정 행을 지정할 수 없음(= 연산 불가)


첫 번째 행이 증가한 이후 할당되므로 > 연산 사용 불가 (**작다, 작거나 같다** 만 사용 가능)


### FETCH


출력될 행의 수를 제한하는 절


ORACLE 12C 이상 부터 제공(이전 버전에는 ROWNUM 주로 사용)


SQL-SERVER 사용 가능


ORDER BY 절 뒤에 사용(내부 파싱 순서도 ORDER BY 뒤)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/a042415a-71d7-4f16-be94-4724dec938bb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH6KNNPR%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104859Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIBQX3oA8oM%2Fvi6%2FafSa%2Btl7tOIIUf7%2BdnLKXJtnoou7YAiEAhRoZZf0%2FBsUbKHyVPi%2BRkOS5PJ%2FXw5pJ5S6VoRdUOboq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDIGXozJzSQUqg6h15yrcA%2BZEjZ6UrsYZOsseUVM2%2FNKxc9XLYdP%2FKenv0K8nyJm0s2X1EdUK92a%2BimIdQfWlL3y4nj90NEmhhC901WZ2bDoCxhVsDlX8gxNjftauqnBr2PDeeO800U5gy6z4a5GqN5VocFX6rX6ciJDKMThfKdiGVXQoOAlKTMArw9PbD3vGA0bjKm1%2Bx1xdXr8man%2BJjK%2BtbMmDWzGkQcS2Mp4cNdJcfmoW8HecUjl4n7ZdW7fjEYjx%2FTuRi82%2BVfxpXKqW1Um%2B5djx8N41g9Qh8QZ%2FWa2yp7s6NWYOUMhsBwXXnuIfmszmqEpqxoFrOk4p68dNEN6zg7FR1HXQjO90QibYzWj4pUOzyiGJfKpJQqj9hkrQToUOActuIUt%2BSXWqltyfirRZMI19rLBCwGTXrJJLsxuiw2LLWSk4tXCTMVXwRj2DVFwXyxLJAC3J3zFP%2BUTtGb9cqFQB52qhwrHmi4dFH4YeW3lWqgcl3ThF7%2B6neBa9xqPoRldWH1njTJkRUA%2Bq6ETwzDzgNfUzQ2U4dL2O5bal0jEG4hyP8FIAPxT5dIXoNvjDgprU1ZU%2BOVs2%2Bx2RZxbdaBolJ7kFS7uHrzQdL93mkkNufFDs7ssvzYU5ZRlsXGKKRkC7%2BkG0j3xmMLH73MsGOqUBpYWp1X8X3kFW0ppmAaBbS%2BekAlEpLxiyG%2BbATpwGXl4OuFpj481IBT%2FhpLcfX76%2FobU7MFDBlHB7EMmK6BtYI95FrAFCw7NVlPQTBWKSvNgFljjSuDHkdVXOQExW6KzxfD6K2FIh5sMOf%2BfQ1FtHbcbOx%2FfV5JQnkztrEpxMG3fi%2BSlJiCTzjbIFWv7hsDGvxRftTywAl6vO4OE5PJR0xbC%2BHIio&X-Amz-Signature=59d04179bce388a0aa9d7ad2713ef28885ba0e13ae93c804b71dcbb24229207b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**OFFSET** : 건너뛸 행의 수 ex) 성적 높은 순 1등 제외, 나머지 3명


**N** : 출력할 행의 수


**FETCH** : 출력할 행의 수를 전달하는 구문


**FIRST** : OFFSET 을 쓰지 않았을 때 처음부터 N 행 출력 명령


**NEXT** : OFFSET 을 사용했을 경우 제외한 행 다음부터 N 행 출력 명령


**ROW | ROWS** : 행의 수에 따라 하나일 경우 단수, 여러 값이면 복수형(특별히 구분 안해도 됨)


## 계층형 질의


PRIOR의 위치에 따라 연결하는 데이터가 달라짐


**START WITH**, **PRIOR**


### 계층형 질의 가상함수


CONNECT_BY_ROOT 컬럼명 : 루트노드의 해당 컬럼명의 값이 출력됨


SYS_CONNECT_BY_PATH(컬럼, 구분자) : 이어지는 경로 출력


ORDER SIBLINGS BY 컬럼 : 같은 레벨일 경우 정렬 수행


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/276f651e-fb1f-4d05-bdd7-64ccb8dcceac/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46657KGYNYD%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104859Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIA2ubXRRxNmXF8ZjJk2%2B6meHKtBw1udYTzvd7cJuSz54AiBz%2BzYBmtK%2BSGtP%2BO60NSbdQQGv6uZGbvE83CdjmqRoXyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMbaWDuDHPww9kH%2BvAKtwDJ9lZeArUPSKmh1It1pJYLkOPKU%2BHrq9lhTT%2Fx2PdCL5bFs87T56kcw6ARKQunTKZlWt%2BzpIT%2FxBuHFV7IdxZmeK3koHr9n73TQ1Zx4uBI1IDt2k6%2BzJxEieyDUYMQJ0J0TUgxtu3eEiUsw5qfoWeos4gvmE3UgclTBp4Yna4b%2F8wNtwG7jWEtVEjCoXqW%2B%2B%2BMHvVpwIIlDKt%2BYETLUXhvPQBMVy7EHj4bAzN%2FzuAuCW5WFenkk3iHHbzveAWehaOQkt14eUI4vKsqEvJj%2FX5KlhRb0oA%2BdPLdKX7cLt3OlBjYICaiqvUPT2oH8WQV9sZqehXy69ICj2Nca1d%2BvYHQSQTaJwjhGcnRKVTXhB2MdmXglutmCoBMHHw2djoox8SS7vrp7DJIHdZQHeEiftaN5riyUemAWrHyTanH9AzGwVjhyI%2Bivh8vaLPkRKG%2FYTZG2Wtb%2FU1yzsPzic3YtjGUl01IwnQjovjXuAmlBlh5OqtopTFkeXiF7AECW%2BgbMZ32hOfKlzh2Xd2Gd%2BlL1wqVQTsNXlFMuyOsdxWJagHGRxjy5WESvf%2B2cYiWenGDxgd44FjGvCZB5kr0O0%2FdXwEHK41UOrgv6oBJ1mOWYeb2i6fxwgz9VhzYsTNAqMwi%2FvcywY6pgEx7Ho25A67rY96zBtDbnfjwfay0P0DawI0%2FLQWWgobizzRUyEcD65KyVd0RWGIAkFBJ5P13YVlVh3p58pmATqQTo%2FxWvfcpgAcdlREu645d7XGDQeBKf5FeCznxZjKoYHiTFetY3Vx1gx0o0NucXIUAmEBAChYtxAMfFNgtwAdoIjQztyAH0wzER0yU2FBVUwDmW08xbo%2BIIGyXDSJZgxz8QWiVvjz&X-Amz-Signature=831ecb4693b1b8ad433fdff08463c6ee6514a44324ec729d334fbf7a762704a1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## PIVOT UNPIVOT


### 데이터의 구조


**LONG DATA(TIDY DATA)** : 하나의 속성이 하나의 컬럼으로 정의되어 값들이 여러 행으로 쌓이는 구조, RDBMS 의 테이블 설계 방식, 다른 테이블과 조인 연산이 가능한 구조


**WIDE DATA(CROSS TABLE)** : 행과 컬럼에 유의미한 정보 전달을 목적으로 작성하는 교차표, 하나의 속성값이 여러 컬럼으로 분리되어 표현, RDBMS에서 WIDE 형식으로 테이블 설계 시 값이 추가될 때마다 컬럼이 추가돼야 하므로 비효율적, 다른 테이블과의 조인 연산이 불가능함, 주로 데이터를 요약할 목적으로 사용


### 데이터 구조 변경


**PIVOT** : LONG → WIDE


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/435dbd1e-53dd-4336-89a8-71ed45a72b59/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46657KGYNYD%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104859Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIA2ubXRRxNmXF8ZjJk2%2B6meHKtBw1udYTzvd7cJuSz54AiBz%2BzYBmtK%2BSGtP%2BO60NSbdQQGv6uZGbvE83CdjmqRoXyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMbaWDuDHPww9kH%2BvAKtwDJ9lZeArUPSKmh1It1pJYLkOPKU%2BHrq9lhTT%2Fx2PdCL5bFs87T56kcw6ARKQunTKZlWt%2BzpIT%2FxBuHFV7IdxZmeK3koHr9n73TQ1Zx4uBI1IDt2k6%2BzJxEieyDUYMQJ0J0TUgxtu3eEiUsw5qfoWeos4gvmE3UgclTBp4Yna4b%2F8wNtwG7jWEtVEjCoXqW%2B%2B%2BMHvVpwIIlDKt%2BYETLUXhvPQBMVy7EHj4bAzN%2FzuAuCW5WFenkk3iHHbzveAWehaOQkt14eUI4vKsqEvJj%2FX5KlhRb0oA%2BdPLdKX7cLt3OlBjYICaiqvUPT2oH8WQV9sZqehXy69ICj2Nca1d%2BvYHQSQTaJwjhGcnRKVTXhB2MdmXglutmCoBMHHw2djoox8SS7vrp7DJIHdZQHeEiftaN5riyUemAWrHyTanH9AzGwVjhyI%2Bivh8vaLPkRKG%2FYTZG2Wtb%2FU1yzsPzic3YtjGUl01IwnQjovjXuAmlBlh5OqtopTFkeXiF7AECW%2BgbMZ32hOfKlzh2Xd2Gd%2BlL1wqVQTsNXlFMuyOsdxWJagHGRxjy5WESvf%2B2cYiWenGDxgd44FjGvCZB5kr0O0%2FdXwEHK41UOrgv6oBJ1mOWYeb2i6fxwgz9VhzYsTNAqMwi%2FvcywY6pgEx7Ho25A67rY96zBtDbnfjwfay0P0DawI0%2FLQWWgobizzRUyEcD65KyVd0RWGIAkFBJ5P13YVlVh3p58pmATqQTo%2FxWvfcpgAcdlREu645d7XGDQeBKf5FeCznxZjKoYHiTFetY3Vx1gx0o0NucXIUAmEBAChYtxAMfFNgtwAdoIjQztyAH0wzER0yU2FBVUwDmW08xbo%2BIIGyXDSJZgxz8QWiVvjz&X-Amz-Signature=a1be21363194a3425fba702c25dbed0c11b1fca09bdabe19a28469b22e1b5c09&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**UNPIVOT** : WIDE → LONG


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/de4fe0c0-2960-4e58-8dd4-e20f5a912992/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46657KGYNYD%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T104859Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIA2ubXRRxNmXF8ZjJk2%2B6meHKtBw1udYTzvd7cJuSz54AiBz%2BzYBmtK%2BSGtP%2BO60NSbdQQGv6uZGbvE83CdjmqRoXyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMbaWDuDHPww9kH%2BvAKtwDJ9lZeArUPSKmh1It1pJYLkOPKU%2BHrq9lhTT%2Fx2PdCL5bFs87T56kcw6ARKQunTKZlWt%2BzpIT%2FxBuHFV7IdxZmeK3koHr9n73TQ1Zx4uBI1IDt2k6%2BzJxEieyDUYMQJ0J0TUgxtu3eEiUsw5qfoWeos4gvmE3UgclTBp4Yna4b%2F8wNtwG7jWEtVEjCoXqW%2B%2B%2BMHvVpwIIlDKt%2BYETLUXhvPQBMVy7EHj4bAzN%2FzuAuCW5WFenkk3iHHbzveAWehaOQkt14eUI4vKsqEvJj%2FX5KlhRb0oA%2BdPLdKX7cLt3OlBjYICaiqvUPT2oH8WQV9sZqehXy69ICj2Nca1d%2BvYHQSQTaJwjhGcnRKVTXhB2MdmXglutmCoBMHHw2djoox8SS7vrp7DJIHdZQHeEiftaN5riyUemAWrHyTanH9AzGwVjhyI%2Bivh8vaLPkRKG%2FYTZG2Wtb%2FU1yzsPzic3YtjGUl01IwnQjovjXuAmlBlh5OqtopTFkeXiF7AECW%2BgbMZ32hOfKlzh2Xd2Gd%2BlL1wqVQTsNXlFMuyOsdxWJagHGRxjy5WESvf%2B2cYiWenGDxgd44FjGvCZB5kr0O0%2FdXwEHK41UOrgv6oBJ1mOWYeb2i6fxwgz9VhzYsTNAqMwi%2FvcywY6pgEx7Ho25A67rY96zBtDbnfjwfay0P0DawI0%2FLQWWgobizzRUyEcD65KyVd0RWGIAkFBJ5P13YVlVh3p58pmATqQTo%2FxWvfcpgAcdlREu645d7XGDQeBKf5FeCznxZjKoYHiTFetY3Vx1gx0o0NucXIUAmEBAChYtxAMfFNgtwAdoIjQztyAH0wzER0yU2FBVUwDmW08xbo%2BIIGyXDSJZgxz8QWiVvjz&X-Amz-Signature=3402b4818ec850b4421fde42e5e994a8fea21fa950e438221b8a40fec7b62be8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### PIVOT


교차표를 만드는 기능


STACK, UNSTACK, VALUE 컬럼 정의가 중요


FROM 절에 STACK, UNSTACK, VALUE 컬럼명만 정의 필요(필요 시 서브쿼리 사용하여 필요 컬럼 제한)


PIVOT 절에 UNSTACK, VALUE 컬럼명 정의


PIVOT 절 IN 연산자에 UNSTACK 컬럼 값을 정의


FROM 절에 선언된 컬럼 중 PIVOT 절에서 선언한 VALUE 컬럼, UNSTACK 컬럼을 제외한 모든 컬럼은 STACK 컬럼이 됨


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	PIVOT (VALUE 컬럼명 FOR UNSTACK 컬럼명 IN (값1, 값2, 값3));
```


### UNPIVOT


WIDE 데이터를 LONG 데이터로 변경하는 문법


STACK 컬럼 : 이미 UNSTACK 되어 있는 여러 컬럼을 하나의 컬럼으로 STACK 시 새로 만들 컬럼이름(사용자 정의)


VALUE 컬럼 : 교차표에서 셀 자리(VALUE) 값을 하나의 컬럼으로 표현하고자 할 때 새로 만들 컬럼명(사용자 정의)


값1, 값2, … : 실제 UNSTACK 되어 있는 컬럼 이름들


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	UNPIVOT (VALUE 컬럼명 FOR STACK 컬럼명 IN (값1, 값2, ...))
```


### 정규 표현식


문자열의 공통된 규칙을 보다 일반화하여 표현하는 방법

