---
layout: post
title: "[SQLD]개념 정리 2과목 2"
date: 2024-03-05
categories: [general]
tags: [Test]
excerpt_separator: ""
---



# 2과목 Part 2


## 그룹함수


### GROUPING SETS


**A별, B별** 그룹 연산 결과 출력


나열 연산 중요하지 않음


기본 출력에 총계는 출력되지 않음


NULL 혹은 () 사용하여 전체 총 합 출력 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/cf7feba0-e689-4431-bcd2-8f74eade66b6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=addb2b3574ee5d190d742623a23b8ca96354be97ceb1bdb75b23919050955069&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0ea4ea0c-9e92-4e5d-be89-24f045ef6aa0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=b8b9d7dcf3b95d40d73116f6bff6c27b147eff338a0cb012305b65aea3c48d23&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0c1a437e-3cdd-49fb-a5b7-f95cd840e796/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=b67276ca72b70fcbfc24e6fb2996d8e7e9d545945f44ea977f4c4efbe7d35ce4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### ROLLUP


A별, (A,B) 별 전체 그룹 연산 결과 출력


나열 대상의 순서가 중요함


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/415785ba-2282-4c64-90a0-fd356d463edb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=36fc1eac3f3d44e748b34e049ef341985d88d7c85ea7b8741649b7119ebf8970&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/2e1d0d02-6296-4a5e-bab9-487cdbd9cad7/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=1ad61337428d908e43c857d5888bbb063926460054cbe0d0d57bf19cc8c5592c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### CUBE


A별, B별, (A,B)별, 전체 그룹 연산 결과 출력됨


그룹으로 묶을 대상의 나열 순서 중요하지 않음


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/08d06145-4bce-4ca5-8926-fb59b9b73be3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=292cf5c78a076dc09441140adcda48cfd50b09c4a4565368596600bbf5d8c6ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/bb08497d-4d58-44b1-a5cf-d031054ec461/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=6a2c848c1c1f4d3e3ec4287ae89b75f39c7cb2c4fdc08fc90e23e0f7057f7f96&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/93623e6f-8f07-46df-8d13-e37e89d5f428/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=85bafb9dd646516db95c8a98d0c85d4970dc120bb2ee29d5dedd13074401b850&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 윈도우 함수


서로 다른 행의 비교나 연산을 위해 만든 함수


GROUP BY 쓰지 않고 그룹 연산 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/df9e8395-6938-410d-b08c-121d72f4a5eb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=e18ed56bff030ea7275e5f9141551cfebdfd33e8dc6f0f06b3bcb1f15e9d5e42&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**PARTITION BY 절** : 출력할 총 데이터 수 변화 없이 그룹연산 수행할 GROUP BY 컬럼


**ORDER BY 절** : RANK 의 경우 필수, 누적값 출력 시 사용


**ROWS | RANGE BETWEEN A AND B** : 연산 범위 설정, ORDER BY 필수


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/665e9f32-e77d-470b-b763-80ee7144f617/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=ea5a3543193b356139a2981e1188f54a5d30c345dbb2146a2badf9d6f3622ec0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 그룹 함수의 형태를 지닌 윈도우 함수


SUM, COUNT, AVG, MIN, MAX


OVER 절을 사용하여 윈도우 함수로 사용 가능


반드시 연산할 대상을 그룹함수의 입력값으로 전달


### SUM OVER, AVG, MIN, MAX


: 전체 총 합, 그룹별 총 합 출력 가능


예) 각 직원 정보와 함께 급여 총 합 출력 → 그룹함수 결과는 SELECT 절에 쓸 수 없음


→ 윈도우 함수를 사용하면 원뎁스로 작성 가능 → 성능 굳


### 윈도우 함수의 연산 범위 : 집계 연산 시 행의 범위 설정 가능

1. **ROWS, RANGE 차이**
    1. **ROWS** : 값이 같더라도 각 행 씩 연산
    2. **RANGE** : 같은 값의 경우 하나의 RANGE 로 묶어서 동시 연산(**DEFAULT**)
2. **BETWEEN A AND B**
    1. **시작점 정의**
        1. **CURRENT ROW** : 현재 행부터
        2. **UNBOUNDED PRECENING** : 처음부터(**DEFAULT**)
        3. **N PRECEDING** : N 이전부터
    2. **마지막 시점 정의**
        1. **CURRENT ROW** : 현재 행까지(**DEFAULT**)
        2. **UNBOUNDED FOLLOWING** : 마지막까지
        3. **N FOLLOWING** : N 이후까지

### 순위 관련 함수


**RANK WITHIN GROUP**

- 특정값에 대한 순위 확인
- 윈도우 함수가 아닌 일반함수

**RANK OVER :** 순위 스킵

- 전체 / 특정 그룹 중 값의 순위 확인
- ORDER BY 절 필수
- 순위를 구할 대상을 ORDER BY 절에 명시(여러 개 나열 가능)
- 그룹 내 순위 구할 시 PARTITION BY 절 사용

**DENSE_RANK**

- 누적 순위
- 값이 같을 때 동일한 순위 부여 후 다음 순위가 바로 이어지는 순위 부여 방식

**ROW_NUMBER**

- 연속된 행 번호
- 동일한 순위 인정하지 않고 단순히 순서대로 나열한  순서 값 리턴

**LAG, LEAD**

- 행 순서대로 이전 값(LAG), 이후 값(LEAD) 가져오기

**NTILE**

- 행을 특정 컬럼 순서에 따라 정해진 수의 그룹으로 나누기 위한 함수
- 그룹 번호가 리턴됨
- ORDER BY 필수
- PARTITION BY 를 사용하여 특정 그룹을 또 원하는 수만큼 그룹 분리 가능

### 비율 관련 함수


**RATIO_TO_REPORT**

- 각 값의 비율 리턴(전체 비율 또는 특정 그룹 내 비율 가능)
- ORDER BY 사용 불가

**CUME_DIST :** 누적 비율

- ORDER BY 필수(누적 비율을 구하는 순서 정할 수 있음)

**PERCENT_RANK**

- 분위수 출력
- 전체 COUNT 중 상대적 위치 출력
- ORDER BY 필수

### **TOP N QUERY**


페이징 처리를 효과적으로 수행하기 위해 사용


전체 결과에서 특정 N개 추출


예) 성적 상위 세 명


### **TOP N 행 추출 방법**

1. ROWNUM
2. RANK
3. FETCH

### ROWNUM


출력된 데이터 기준으로 행 번호 부여


절대적인 행 번호가 아닌 가상의 번호이므로 특정 행을 지정할 수 없음(= 연산 불가)


첫 번째 행이 증가한 이후 할당되므로 > 연산 사용 불가 (**작다, 작거나 같다** 만 사용 가능)


### FETCH


출력될 행의 수를 제한하는 절


ORACLE 12C 이상 부터 제공(이전 버전에는 ROWNUM 주로 사용)


SQL-SERVER 사용 가능


ORDER BY 절 뒤에 사용(내부 파싱 순서도 ORDER BY 뒤)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/a042415a-71d7-4f16-be94-4724dec938bb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q7I2SW65%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111853Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIEzcAs4ejG3caUWL7c8hjL6BX6PuKz4ZxmAa2DbbWLHCAiBhAGkNgf4XCvskN6h%2FtxmKjsVRJxGWw%2FlloFyZaqmDASr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMzBaGgB21A5teU9%2BVKtwDznvqZrFVvKQSWAVd9%2FVOnkkUfvsrFf9Ed1JAE16fvaPwMg4Mu0qDM5vdmYZLrd6b31iGZTyaCMVNvVd6RrKu5e9IdqzkIKHL9TSfqX17mWxI7TgK%2B7zvigokMMxl9QnbD14S3klLeP1naRiBkk7NEVlkXYWi%2BNAJ0OgOdl%2BWfpGLA7xJlc89zXWaNWCszoq2r8kxShH4wPCpO8kNalpoxzj7tNHva7WmR0nGbwhehPW8lbRxfLcpobooPTu13hwcnbruUJ0xNtG3M9apfT9u19hzh8kSi%2By4WCUijwALGzEmApW062CLObdDk5N1vEuxpNBax%2BZRCfOUaKzKzP4LRNEd9PyXMRQvZLEM8p2U1nHMlxfz4K6Ic3EyOk75UMYMUambYriHVHQH7dmqf3qpbNgVaCD4huuU7zWikYHDeAKxuUfTF2bnNuhfdO%2Fk%2FuyIiEJwInA%2FUT2OZKuiNK5tqktDPO26daKqdKVaC0rMavTimvJwf5uAywVPqUqvvnJHE0zwcUbA9Hud4GCxrNYVxrPf0B4Ya1v2z53rrpw8TjFiJzftC5vV1es6kgxXZ%2BpdB8ruxZyYREcdipkhUQuT2ZUug4bOZ%2BQEHIF5QgPEY7G7II7NdEGy%2BWDtENQws%2FvcywY6pgFQkbaGs1Pd8RAbiepxwy2YIs7S%2FW60pvQStcJXflaLDAXXaaiSC3dhHQtsPois3IjhJ9xSHKAD5sYbLh5UGDL7%2BN4DnI7sAc6B8tqIx1abTKoydtMPYzxcRJxrQmIRfNgM7jbkBhmQvoeycQ%2FXHJR1Kyiu2vNs9I6ECTBytJoE7BlueAEPYwAZ45IfeQbQdh%2BAYcUFlsZSxQfqzjrTRIh6nxF5YHVD&X-Amz-Signature=2c7ceca0270b8e0f683343468421baf71eb48cc582acf8d5b27f9f579881a32c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**OFFSET** : 건너뛸 행의 수 ex) 성적 높은 순 1등 제외, 나머지 3명


**N** : 출력할 행의 수


**FETCH** : 출력할 행의 수를 전달하는 구문


**FIRST** : OFFSET 을 쓰지 않았을 때 처음부터 N 행 출력 명령


**NEXT** : OFFSET 을 사용했을 경우 제외한 행 다음부터 N 행 출력 명령


**ROW | ROWS** : 행의 수에 따라 하나일 경우 단수, 여러 값이면 복수형(특별히 구분 안해도 됨)


## 계층형 질의


PRIOR의 위치에 따라 연결하는 데이터가 달라짐


**START WITH**, **PRIOR**


### 계층형 질의 가상함수


CONNECT_BY_ROOT 컬럼명 : 루트노드의 해당 컬럼명의 값이 출력됨


SYS_CONNECT_BY_PATH(컬럼, 구분자) : 이어지는 경로 출력


ORDER SIBLINGS BY 컬럼 : 같은 레벨일 경우 정렬 수행


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/276f651e-fb1f-4d05-bdd7-64ccb8dcceac/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SR4BEOQO%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111854Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIHFoob9dmoL6KEuvd5NWSDnQI7Fo3ucThNIoLwYkjQjAAiAjcccWnp5I6HqmAU9sNXruhBAQTOaxNDV%2FLtXu2AkBBCr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIM5ZDhublm4956x8kOKtwDmqpFac3Y%2FuD42Awjk0Siu7G1o1W9XW%2B3xzPzuNZQ9uERUAx7XyeUVQBkjy%2BTv4UmoXd0kR%2BzXuQnwFoTTOSbOewh61fKWFKhuHrmLim%2Bp2NIT5xeQzItM%2FUarYDiEUTvCK%2B1tzXHBZAqkGYVCOkVRVj4WoYDnZIqvwrxwEHVINu6dDaoHV8jm41QUNiKvAPVzLuzv6Mj19vm9E1BOed0dEnRPHqGqdSgqjO6FxWGhT3117nF1v9HQnfnHcWjcRNe64H5WgAG%2Fz%2Fu66xr4KhYRdFm3LVVq1ztB0wDqe2o9I3WG1KicfYazqfKkJMUVTyWk20mgbN05XBToMqEjXM2RDkVVQHWuZaj98j3VywvoF1qwJ35cV3pSTDFaG0wVK8dLOYyVdcvLqXWmuKGpLEZiCoFoNDJr%2BkhDZ3soaOVn%2FlYS%2F%2FJLElQgzSl1C6A62vb4XY%2F664Pn%2F9EB0gFqZ24FH085CbNQnBBMPF%2BFJ%2Bfhiv95k5jX7zUnZi7JdidlS648MimwAOONni3dhxkS0QmozjiYNroDcNhMRoUOy2qWvKGwA%2F4FGca2078XMK2Pq8iFaGfwOBhCwnwKMabLYNjSeNNzeD3kCdNXDQa%2BHkHlNF6h48e1b%2BF5QwGAVYwsPvcywY6pgEHMONHAa3aqceEU8%2FTxFqDvqqjsxr0tHQ%2FfWyh119BqCoqW8rE5fEgBemiv59fvvjuB8UeTEORM6Zm3L0PN7BPOVlC7ZjnbfvviGg0WFTbLeWyn2c9NfRnb9Ef%2B%2BNN0U5mY7HRu%2BsjCawyz9HzKNLQ%2BDraOgRfWEt%2B3IOuRFF3IN9u6WWI2Zu9QMu1R9Th9JAp8JFK9eajwKvZmI4rVwLfwBwx8iL4&X-Amz-Signature=3ab84f27f9aadfa106463ce4814cfca6e366b9901f59cc562b4f89481f694e4f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## PIVOT UNPIVOT


### 데이터의 구조


**LONG DATA(TIDY DATA)** : 하나의 속성이 하나의 컬럼으로 정의되어 값들이 여러 행으로 쌓이는 구조, RDBMS 의 테이블 설계 방식, 다른 테이블과 조인 연산이 가능한 구조


**WIDE DATA(CROSS TABLE)** : 행과 컬럼에 유의미한 정보 전달을 목적으로 작성하는 교차표, 하나의 속성값이 여러 컬럼으로 분리되어 표현, RDBMS에서 WIDE 형식으로 테이블 설계 시 값이 추가될 때마다 컬럼이 추가돼야 하므로 비효율적, 다른 테이블과의 조인 연산이 불가능함, 주로 데이터를 요약할 목적으로 사용


### 데이터 구조 변경


**PIVOT** : LONG → WIDE


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/435dbd1e-53dd-4336-89a8-71ed45a72b59/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SR4BEOQO%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111854Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIHFoob9dmoL6KEuvd5NWSDnQI7Fo3ucThNIoLwYkjQjAAiAjcccWnp5I6HqmAU9sNXruhBAQTOaxNDV%2FLtXu2AkBBCr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIM5ZDhublm4956x8kOKtwDmqpFac3Y%2FuD42Awjk0Siu7G1o1W9XW%2B3xzPzuNZQ9uERUAx7XyeUVQBkjy%2BTv4UmoXd0kR%2BzXuQnwFoTTOSbOewh61fKWFKhuHrmLim%2Bp2NIT5xeQzItM%2FUarYDiEUTvCK%2B1tzXHBZAqkGYVCOkVRVj4WoYDnZIqvwrxwEHVINu6dDaoHV8jm41QUNiKvAPVzLuzv6Mj19vm9E1BOed0dEnRPHqGqdSgqjO6FxWGhT3117nF1v9HQnfnHcWjcRNe64H5WgAG%2Fz%2Fu66xr4KhYRdFm3LVVq1ztB0wDqe2o9I3WG1KicfYazqfKkJMUVTyWk20mgbN05XBToMqEjXM2RDkVVQHWuZaj98j3VywvoF1qwJ35cV3pSTDFaG0wVK8dLOYyVdcvLqXWmuKGpLEZiCoFoNDJr%2BkhDZ3soaOVn%2FlYS%2F%2FJLElQgzSl1C6A62vb4XY%2F664Pn%2F9EB0gFqZ24FH085CbNQnBBMPF%2BFJ%2Bfhiv95k5jX7zUnZi7JdidlS648MimwAOONni3dhxkS0QmozjiYNroDcNhMRoUOy2qWvKGwA%2F4FGca2078XMK2Pq8iFaGfwOBhCwnwKMabLYNjSeNNzeD3kCdNXDQa%2BHkHlNF6h48e1b%2BF5QwGAVYwsPvcywY6pgEHMONHAa3aqceEU8%2FTxFqDvqqjsxr0tHQ%2FfWyh119BqCoqW8rE5fEgBemiv59fvvjuB8UeTEORM6Zm3L0PN7BPOVlC7ZjnbfvviGg0WFTbLeWyn2c9NfRnb9Ef%2B%2BNN0U5mY7HRu%2BsjCawyz9HzKNLQ%2BDraOgRfWEt%2B3IOuRFF3IN9u6WWI2Zu9QMu1R9Th9JAp8JFK9eajwKvZmI4rVwLfwBwx8iL4&X-Amz-Signature=620bb5493e410a8e6f8d9747035af0af2f2dcc889b31a19b418b3589a093c5eb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**UNPIVOT** : WIDE → LONG


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/de4fe0c0-2960-4e58-8dd4-e20f5a912992/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SR4BEOQO%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T111854Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIHFoob9dmoL6KEuvd5NWSDnQI7Fo3ucThNIoLwYkjQjAAiAjcccWnp5I6HqmAU9sNXruhBAQTOaxNDV%2FLtXu2AkBBCr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIM5ZDhublm4956x8kOKtwDmqpFac3Y%2FuD42Awjk0Siu7G1o1W9XW%2B3xzPzuNZQ9uERUAx7XyeUVQBkjy%2BTv4UmoXd0kR%2BzXuQnwFoTTOSbOewh61fKWFKhuHrmLim%2Bp2NIT5xeQzItM%2FUarYDiEUTvCK%2B1tzXHBZAqkGYVCOkVRVj4WoYDnZIqvwrxwEHVINu6dDaoHV8jm41QUNiKvAPVzLuzv6Mj19vm9E1BOed0dEnRPHqGqdSgqjO6FxWGhT3117nF1v9HQnfnHcWjcRNe64H5WgAG%2Fz%2Fu66xr4KhYRdFm3LVVq1ztB0wDqe2o9I3WG1KicfYazqfKkJMUVTyWk20mgbN05XBToMqEjXM2RDkVVQHWuZaj98j3VywvoF1qwJ35cV3pSTDFaG0wVK8dLOYyVdcvLqXWmuKGpLEZiCoFoNDJr%2BkhDZ3soaOVn%2FlYS%2F%2FJLElQgzSl1C6A62vb4XY%2F664Pn%2F9EB0gFqZ24FH085CbNQnBBMPF%2BFJ%2Bfhiv95k5jX7zUnZi7JdidlS648MimwAOONni3dhxkS0QmozjiYNroDcNhMRoUOy2qWvKGwA%2F4FGca2078XMK2Pq8iFaGfwOBhCwnwKMabLYNjSeNNzeD3kCdNXDQa%2BHkHlNF6h48e1b%2BF5QwGAVYwsPvcywY6pgEHMONHAa3aqceEU8%2FTxFqDvqqjsxr0tHQ%2FfWyh119BqCoqW8rE5fEgBemiv59fvvjuB8UeTEORM6Zm3L0PN7BPOVlC7ZjnbfvviGg0WFTbLeWyn2c9NfRnb9Ef%2B%2BNN0U5mY7HRu%2BsjCawyz9HzKNLQ%2BDraOgRfWEt%2B3IOuRFF3IN9u6WWI2Zu9QMu1R9Th9JAp8JFK9eajwKvZmI4rVwLfwBwx8iL4&X-Amz-Signature=6ca96953196c67aa8a457fe2d9b4c40d88eb65bbb120e3c09700cdf3e1ca17b3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### PIVOT


교차표를 만드는 기능


STACK, UNSTACK, VALUE 컬럼 정의가 중요


FROM 절에 STACK, UNSTACK, VALUE 컬럼명만 정의 필요(필요 시 서브쿼리 사용하여 필요 컬럼 제한)


PIVOT 절에 UNSTACK, VALUE 컬럼명 정의


PIVOT 절 IN 연산자에 UNSTACK 컬럼 값을 정의


FROM 절에 선언된 컬럼 중 PIVOT 절에서 선언한 VALUE 컬럼, UNSTACK 컬럼을 제외한 모든 컬럼은 STACK 컬럼이 됨


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	PIVOT (VALUE 컬럼명 FOR UNSTACK 컬럼명 IN (값1, 값2, 값3));
```


### UNPIVOT


WIDE 데이터를 LONG 데이터로 변경하는 문법


STACK 컬럼 : 이미 UNSTACK 되어 있는 여러 컬럼을 하나의 컬럼으로 STACK 시 새로 만들 컬럼이름(사용자 정의)


VALUE 컬럼 : 교차표에서 셀 자리(VALUE) 값을 하나의 컬럼으로 표현하고자 할 때 새로 만들 컬럼명(사용자 정의)


값1, 값2, … : 실제 UNSTACK 되어 있는 컬럼 이름들


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	UNPIVOT (VALUE 컬럼명 FOR STACK 컬럼명 IN (값1, 값2, ...))
```


### 정규 표현식


문자열의 공통된 규칙을 보다 일반화하여 표현하는 방법

