---
layout: post
title: "[SQLD]개념 정리 2과목 2"
date: 2024-03-05
categories: [general]
tags: [Test]
---


# 2과목 Part 2


## 그룹함수


### GROUPING SETS


**A별, B별** 그룹 연산 결과 출력


나열 연산 중요하지 않음


기본 출력에 총계는 출력되지 않음


NULL 혹은 () 사용하여 전체 총 합 출력 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/cf7feba0-e689-4431-bcd2-8f74eade66b6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=e6cc503f1af819d5680d38a575c5571b4f8f99bf57f80a693f462a70a1f81efd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0ea4ea0c-9e92-4e5d-be89-24f045ef6aa0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=c9b1ed1ded9a9ce6ca35b826072f149a510f758ac7303f05b2e7e78b5623f3ec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/0c1a437e-3cdd-49fb-a5b7-f95cd840e796/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=2d8f19ed606d6983f8237b06f5d7d5244df73b2d92b1c7a99fba51a8e16bc73b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### ROLLUP


A별, (A,B) 별 전체 그룹 연산 결과 출력


나열 대상의 순서가 중요함


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/415785ba-2282-4c64-90a0-fd356d463edb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=e936a005bbf80c36492d34ede147702c394306319232579fdf26e52a636f40e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/2e1d0d02-6296-4a5e-bab9-487cdbd9cad7/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=01cb1741ec035bbf122e554561bcd15c827a7d2616993e8ef51e19c459651963&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### CUBE


A별, B별, (A,B)별, 전체 그룹 연산 결과 출력됨


그룹으로 묶을 대상의 나열 순서 중요하지 않음


기본적으로 전체 총계가 출력됨


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/08d06145-4bce-4ca5-8926-fb59b9b73be3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=0943533ab2125080da4db333fe241189650f4b3262856dbec13e7be11f10bcad&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/bb08497d-4d58-44b1-a5cf-d031054ec461/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=6f39948de870ebc13e4c9c98922dd4d4334d40f0f26e1e76e734b0e77e45de9b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/93623e6f-8f07-46df-8d13-e37e89d5f428/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=5d62b26e0aa67b23308921f05288fd332b52429cfd81dcdbf9fbbbf242cbdf92&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 윈도우 함수


서로 다른 행의 비교나 연산을 위해 만든 함수


GROUP BY 쓰지 않고 그룹 연산 가능


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/df9e8395-6938-410d-b08c-121d72f4a5eb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=d0441e39b7f874fa7c63a6dd6142c8e40f9d4b7123b4296d9b839e957d476603&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**PARTITION BY 절** : 출력할 총 데이터 수 변화 없이 그룹연산 수행할 GROUP BY 컬럼


**ORDER BY 절** : RANK 의 경우 필수, 누적값 출력 시 사용


**ROWS | RANGE BETWEEN A AND B** : 연산 범위 설정, ORDER BY 필수


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/665e9f32-e77d-470b-b763-80ee7144f617/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=d0eba9ed250d990f9b3d26702bbba82c563142b9f1b3ad6e78f298c1f4e629fe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 그룹 함수의 형태를 지닌 윈도우 함수


SUM, COUNT, AVG, MIN, MAX


OVER 절을 사용하여 윈도우 함수로 사용 가능


반드시 연산할 대상을 그룹함수의 입력값으로 전달


### SUM OVER, AVG, MIN, MAX


: 전체 총 합, 그룹별 총 합 출력 가능


예) 각 직원 정보와 함께 급여 총 합 출력 → 그룹함수 결과는 SELECT 절에 쓸 수 없음


→ 윈도우 함수를 사용하면 원뎁스로 작성 가능 → 성능 굳


### 윈도우 함수의 연산 범위 : 집계 연산 시 행의 범위 설정 가능

1. **ROWS, RANGE 차이**
    1. **ROWS** : 값이 같더라도 각 행 씩 연산
    2. **RANGE** : 같은 값의 경우 하나의 RANGE 로 묶어서 동시 연산(**DEFAULT**)
2. **BETWEEN A AND B**
    1. **시작점 정의**
        1. **CURRENT ROW** : 현재 행부터
        2. **UNBOUNDED PRECENING** : 처음부터(**DEFAULT**)
        3. **N PRECEDING** : N 이전부터
    2. **마지막 시점 정의**
        1. **CURRENT ROW** : 현재 행까지(**DEFAULT**)
        2. **UNBOUNDED FOLLOWING** : 마지막까지
        3. **N FOLLOWING** : N 이후까지

### 순위 관련 함수


**RANK WITHIN GROUP**

- 특정값에 대한 순위 확인
- 윈도우 함수가 아닌 일반함수

**RANK OVER :** 순위 스킵

- 전체 / 특정 그룹 중 값의 순위 확인
- ORDER BY 절 필수
- 순위를 구할 대상을 ORDER BY 절에 명시(여러 개 나열 가능)
- 그룹 내 순위 구할 시 PARTITION BY 절 사용

**DENSE_RANK**

- 누적 순위
- 값이 같을 때 동일한 순위 부여 후 다음 순위가 바로 이어지는 순위 부여 방식

**ROW_NUMBER**

- 연속된 행 번호
- 동일한 순위 인정하지 않고 단순히 순서대로 나열한  순서 값 리턴

**LAG, LEAD**

- 행 순서대로 이전 값(LAG), 이후 값(LEAD) 가져오기

**NTILE**

- 행을 특정 컬럼 순서에 따라 정해진 수의 그룹으로 나누기 위한 함수
- 그룹 번호가 리턴됨
- ORDER BY 필수
- PARTITION BY 를 사용하여 특정 그룹을 또 원하는 수만큼 그룹 분리 가능

### 비율 관련 함수


**RATIO_TO_REPORT**

- 각 값의 비율 리턴(전체 비율 또는 특정 그룹 내 비율 가능)
- ORDER BY 사용 불가

**CUME_DIST :** 누적 비율

- ORDER BY 필수(누적 비율을 구하는 순서 정할 수 있음)

**PERCENT_RANK**

- 분위수 출력
- 전체 COUNT 중 상대적 위치 출력
- ORDER BY 필수

### **TOP N QUERY**


페이징 처리를 효과적으로 수행하기 위해 사용


전체 결과에서 특정 N개 추출


예) 성적 상위 세 명


### **TOP N 행 추출 방법**

1. ROWNUM
2. RANK
3. FETCH

### ROWNUM


출력된 데이터 기준으로 행 번호 부여


절대적인 행 번호가 아닌 가상의 번호이므로 특정 행을 지정할 수 없음(= 연산 불가)


첫 번째 행이 증가한 이후 할당되므로 > 연산 사용 불가 (**작다, 작거나 같다** 만 사용 가능)


### FETCH


출력될 행의 수를 제한하는 절


ORACLE 12C 이상 부터 제공(이전 버전에는 ROWNUM 주로 사용)


SQL-SERVER 사용 가능


ORDER BY 절 뒤에 사용(내부 파싱 순서도 ORDER BY 뒤)


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/a042415a-71d7-4f16-be94-4724dec938bb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNQJ7WJJ%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJIMEYCIQDCMaE5FlfxfZDl6lxx5vME53tjYolSmEiBIyil0mkicgIhAN%2F4y4%2BK4FQLSJtmxQO72iFRY3Zg4ei8Vz1GkKs%2F1rbTKv8DCDoQABoMNjM3NDIzMTgzODA1IgygOepSLJrAf40X%2Ffwq3AO6L6PG67pIOMO34cmo8JQzMc4dmGE3hg35j1qaqpG268mwOUz9M5ZnEMbaVE98qpZZjfZXXZsQt6cYhssSJcjyHlp16k9U6WKIgA7GYA5Bq9d1%2FwQRdhmCFNd%2ByyulkHRL6H1H1LjKW3gT4hYo2V89hJUANAJg%2Bn8nVMCrdg0Rl4RuQmbklqe%2ByrNUbsXHtagML%2BiL85cmgeqEs5ADXXrbwqlltm6WisLFW340dJQNYf0i1x9Y2LbXQYDZk5mP1phGVh%2BOn3j6JLVZ41cujDI%2B0cREKeOanU0qBxOkuKaPZ%2FZslaHJ7ADns0LDFvYNjxQkX0EBOca7CtnyAn6xkc%2FXHgmBroypRNyMil3THpmywghkYrLnfMJU8U1zc%2BnOgYVT60tciQ%2FynHl7SHCtChejUvI9rX48YeZyGRl0W0%2BM4%2F%2Fd2zoV6xd4yI4j2%2FcreWCKDOC%2FheTOAa5dW2fHgBN7riNsrRVbjYMVx1JdutkQWOihMJf9uCATvZzWHzMmYZn%2BAymdjekFLp6nrgbJKdqyncJShXZPfI9Xg7geR2ULv5XmSMwKBG2wQWP6BkWdx8uzbPgAWXAjMsgraBHh96hiY%2BtJCbHA9ACJB322XTUDMS523AmaaQL3907UojCp2dzLBjqkAScMwahxBE7%2Fep6ffaPop8PyAHMO7WBkVOlzV3iVUxr5JoQLLC41Oat5susrZviDDW2K%2BHb4BSddPonghVkPD%2FjjMGfyA7vasVkH%2B5muQOT3qah2rmoTOPDYpYao5FeQM7IVVIjhM4FO6LQhU5BmA8jEn7mZe0S8Cmk%2BRaUGFivcImbGR0pN7z1oZvuu6aDy5BQRYz3gsyreFPHWSDSMw6ws5Iil&X-Amz-Signature=7f143cbf4651acdbaacabff4cd13679bf1e734adafcce79f6026943c66bd54ec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**OFFSET** : 건너뛸 행의 수 ex) 성적 높은 순 1등 제외, 나머지 3명


**N** : 출력할 행의 수


**FETCH** : 출력할 행의 수를 전달하는 구문


**FIRST** : OFFSET 을 쓰지 않았을 때 처음부터 N 행 출력 명령


**NEXT** : OFFSET 을 사용했을 경우 제외한 행 다음부터 N 행 출력 명령


**ROW | ROWS** : 행의 수에 따라 하나일 경우 단수, 여러 값이면 복수형(특별히 구분 안해도 됨)


## 계층형 질의


PRIOR의 위치에 따라 연결하는 데이터가 달라짐


**START WITH**, **PRIOR**


### 계층형 질의 가상함수


CONNECT_BY_ROOT 컬럼명 : 루트노드의 해당 컬럼명의 값이 출력됨


SYS_CONNECT_BY_PATH(컬럼, 구분자) : 이어지는 경로 출력


ORDER SIBLINGS BY 컬럼 : 같은 레벨일 경우 정렬 수행


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/276f651e-fb1f-4d05-bdd7-64ccb8dcceac/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7EWL5SK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJHMEUCIQDkYYCvSPaa3h62w15CHX2X%2Fw%2BrFSxGqXhQftwoWQUqxQIgMjAYTyc%2FpN64O45dPS6asl9d1SgtnH5SZ1cVwYM4BHAq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDPIZvtHMl9zEbfm4QSrcA%2FQQR1BLVe%2BDmbRPas0Nhj0wUrbSeVvQRAsWdVEY3Jrvuz88SHPtYERAEiGnDZzjta%2FXqze0%2BGu7E7X1c7avEUjvW8XFaVjwkDGBVfMyvoGlUB8rS2xtQD1z7oGahdH5QJFX031q9dJZ2S3zTMeVjViOnxMVTBgMdgKULnkaUziYyIyC%2B9Da3Cpm6rEqoBlzIQEazprWYrhZOproDKjGLW%2Fn4rvMp99rttFLOVS3kJ%2B4NYV3upD9%2FCkZVVTAGdP3ZLWC8OcuLlD%2F%2ByBx%2B5EQ2I6dVLyHfhc9C2%2ByxG98P0oQCevI2ZMLvTg4M7DxrtuXwEH1WYRui9VPWTYpq7RxQvMS8vsMXbJz6BHJnqffn4NkGGDWodYdhDtGjafJgmtQS%2B%2FFMWUe4d756FeuToAQ7lIQkyfqTamA2qn8YuV8a6pJN49Z4XT7vjoUtck%2FacmSXE2VntBP8PKdS3rCP9W6oU%2BhFZse5zMLRpyd98wzKqp%2BZMeED5AESR9ym6D84Ky2XrsdB%2BPOwqWDJK7mjKNd%2F%2BR8WedRuCNROsA84gXAmNiSXiPCnTYZg89kVDmuKalj2rpsP02RAEsSlUPL4BTOut1mrgYLX%2FsPMLrGm%2Fdl3ujQHjUhPF06oUzUz3N1ML7Y3MsGOqUBjlLHwI%2BS3ZEJq%2FZVJdnsl%2FvfMBjfN3qDgutDC%2Fsp56NlETlcIXV8qJAt22J%2BRLbBbHZSRsX%2FHMX9v50TwrmDlxrqZ1QHhWYiPygAItvZSCtFcWSh0ZCYNBgLZvUsTZWUHpEH2RLscw8kt5%2FzrQa5O9%2FIz0SMz7ku2pBHuRHgGD%2FGGMl0B8nypH6tQs5F3MPterMBpV8NjnwzghtlJ22V5Zq0nm7m&X-Amz-Signature=f38fb0b7e2a647db591ad11c19c2ca87225011c9b7819efb1e5d554bd8d9860b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## PIVOT UNPIVOT


### 데이터의 구조


**LONG DATA(TIDY DATA)** : 하나의 속성이 하나의 컬럼으로 정의되어 값들이 여러 행으로 쌓이는 구조, RDBMS 의 테이블 설계 방식, 다른 테이블과 조인 연산이 가능한 구조


**WIDE DATA(CROSS TABLE)** : 행과 컬럼에 유의미한 정보 전달을 목적으로 작성하는 교차표, 하나의 속성값이 여러 컬럼으로 분리되어 표현, RDBMS에서 WIDE 형식으로 테이블 설계 시 값이 추가될 때마다 컬럼이 추가돼야 하므로 비효율적, 다른 테이블과의 조인 연산이 불가능함, 주로 데이터를 요약할 목적으로 사용


### 데이터 구조 변경


**PIVOT** : LONG → WIDE


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/435dbd1e-53dd-4336-89a8-71ed45a72b59/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7EWL5SK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJHMEUCIQDkYYCvSPaa3h62w15CHX2X%2Fw%2BrFSxGqXhQftwoWQUqxQIgMjAYTyc%2FpN64O45dPS6asl9d1SgtnH5SZ1cVwYM4BHAq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDPIZvtHMl9zEbfm4QSrcA%2FQQR1BLVe%2BDmbRPas0Nhj0wUrbSeVvQRAsWdVEY3Jrvuz88SHPtYERAEiGnDZzjta%2FXqze0%2BGu7E7X1c7avEUjvW8XFaVjwkDGBVfMyvoGlUB8rS2xtQD1z7oGahdH5QJFX031q9dJZ2S3zTMeVjViOnxMVTBgMdgKULnkaUziYyIyC%2B9Da3Cpm6rEqoBlzIQEazprWYrhZOproDKjGLW%2Fn4rvMp99rttFLOVS3kJ%2B4NYV3upD9%2FCkZVVTAGdP3ZLWC8OcuLlD%2F%2ByBx%2B5EQ2I6dVLyHfhc9C2%2ByxG98P0oQCevI2ZMLvTg4M7DxrtuXwEH1WYRui9VPWTYpq7RxQvMS8vsMXbJz6BHJnqffn4NkGGDWodYdhDtGjafJgmtQS%2B%2FFMWUe4d756FeuToAQ7lIQkyfqTamA2qn8YuV8a6pJN49Z4XT7vjoUtck%2FacmSXE2VntBP8PKdS3rCP9W6oU%2BhFZse5zMLRpyd98wzKqp%2BZMeED5AESR9ym6D84Ky2XrsdB%2BPOwqWDJK7mjKNd%2F%2BR8WedRuCNROsA84gXAmNiSXiPCnTYZg89kVDmuKalj2rpsP02RAEsSlUPL4BTOut1mrgYLX%2FsPMLrGm%2Fdl3ujQHjUhPF06oUzUz3N1ML7Y3MsGOqUBjlLHwI%2BS3ZEJq%2FZVJdnsl%2FvfMBjfN3qDgutDC%2Fsp56NlETlcIXV8qJAt22J%2BRLbBbHZSRsX%2FHMX9v50TwrmDlxrqZ1QHhWYiPygAItvZSCtFcWSh0ZCYNBgLZvUsTZWUHpEH2RLscw8kt5%2FzrQa5O9%2FIz0SMz7ku2pBHuRHgGD%2FGGMl0B8nypH6tQs5F3MPterMBpV8NjnwzghtlJ22V5Zq0nm7m&X-Amz-Signature=42b4e70e62df3f654f23182f9ea10ad1db604985e0780062cb7fb2d2e70e5582&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**UNPIVOT** : WIDE → LONG


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/de4fe0c0-2960-4e58-8dd4-e20f5a912992/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7EWL5SK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T094019Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJHMEUCIQDkYYCvSPaa3h62w15CHX2X%2Fw%2BrFSxGqXhQftwoWQUqxQIgMjAYTyc%2FpN64O45dPS6asl9d1SgtnH5SZ1cVwYM4BHAq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDPIZvtHMl9zEbfm4QSrcA%2FQQR1BLVe%2BDmbRPas0Nhj0wUrbSeVvQRAsWdVEY3Jrvuz88SHPtYERAEiGnDZzjta%2FXqze0%2BGu7E7X1c7avEUjvW8XFaVjwkDGBVfMyvoGlUB8rS2xtQD1z7oGahdH5QJFX031q9dJZ2S3zTMeVjViOnxMVTBgMdgKULnkaUziYyIyC%2B9Da3Cpm6rEqoBlzIQEazprWYrhZOproDKjGLW%2Fn4rvMp99rttFLOVS3kJ%2B4NYV3upD9%2FCkZVVTAGdP3ZLWC8OcuLlD%2F%2ByBx%2B5EQ2I6dVLyHfhc9C2%2ByxG98P0oQCevI2ZMLvTg4M7DxrtuXwEH1WYRui9VPWTYpq7RxQvMS8vsMXbJz6BHJnqffn4NkGGDWodYdhDtGjafJgmtQS%2B%2FFMWUe4d756FeuToAQ7lIQkyfqTamA2qn8YuV8a6pJN49Z4XT7vjoUtck%2FacmSXE2VntBP8PKdS3rCP9W6oU%2BhFZse5zMLRpyd98wzKqp%2BZMeED5AESR9ym6D84Ky2XrsdB%2BPOwqWDJK7mjKNd%2F%2BR8WedRuCNROsA84gXAmNiSXiPCnTYZg89kVDmuKalj2rpsP02RAEsSlUPL4BTOut1mrgYLX%2FsPMLrGm%2Fdl3ujQHjUhPF06oUzUz3N1ML7Y3MsGOqUBjlLHwI%2BS3ZEJq%2FZVJdnsl%2FvfMBjfN3qDgutDC%2Fsp56NlETlcIXV8qJAt22J%2BRLbBbHZSRsX%2FHMX9v50TwrmDlxrqZ1QHhWYiPygAItvZSCtFcWSh0ZCYNBgLZvUsTZWUHpEH2RLscw8kt5%2FzrQa5O9%2FIz0SMz7ku2pBHuRHgGD%2FGGMl0B8nypH6tQs5F3MPterMBpV8NjnwzghtlJ22V5Zq0nm7m&X-Amz-Signature=c6d5b25f35666770c32c3e2b00cee0251a6915379a7474a80b0249624fce2e55&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### PIVOT


교차표를 만드는 기능


STACK, UNSTACK, VALUE 컬럼 정의가 중요


FROM 절에 STACK, UNSTACK, VALUE 컬럼명만 정의 필요(필요 시 서브쿼리 사용하여 필요 컬럼 제한)


PIVOT 절에 UNSTACK, VALUE 컬럼명 정의


PIVOT 절 IN 연산자에 UNSTACK 컬럼 값을 정의


FROM 절에 선언된 컬럼 중 PIVOT 절에서 선언한 VALUE 컬럼, UNSTACK 컬럼을 제외한 모든 컬럼은 STACK 컬럼이 됨


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	PIVOT (VALUE 컬럼명 FOR UNSTACK 컬럼명 IN (값1, 값2, 값3));
```


### UNPIVOT


WIDE 데이터를 LONG 데이터로 변경하는 문법


STACK 컬럼 : 이미 UNSTACK 되어 있는 여러 컬럼을 하나의 컬럼으로 STACK 시 새로 만들 컬럼이름(사용자 정의)


VALUE 컬럼 : 교차표에서 셀 자리(VALUE) 값을 하나의 컬럼으로 표현하고자 할 때 새로 만들 컬럼명(사용자 정의)


값1, 값2, … : 실제 UNSTACK 되어 있는 컬럼 이름들


```sql
SELECT *
	FROM 테이블명 또는 서브쿼리
	UNPIVOT (VALUE 컬럼명 FOR STACK 컬럼명 IN (값1, 값2, ...))
```


### 정규 표현식


문자열의 공통된 규칙을 보다 일반화하여 표현하는 방법

