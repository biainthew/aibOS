---
layout: post
title: "[SQLD]개념 정리 2과목 3"
date: 2024-03-06
categories: [general]
tags: [Test]
excerpt_separator: ""
---



## DML (Data Manipulate Language)


데이터의 삽입(INSERT), 수정(UPDATE), 삭제(DELETE), 병합(MERGE)


저장(COMMIT), 혹은 취소(ROLLBACK) 반드시 필요


### INSERT


테이블에 행을 삽입할 때 사용


한 번에 한 행만 입력 가능(S : 여러 행 동시 삽입 가능)


하나의 컬럼에는 한 값만 삽입 가능


컬럼별 데이터 타입과 사이즈에 맞게 삽입


INTO 절에 컬럼명을 명시하여 일부 컬럼만 입력 가능, 작성하지 않은 컬럼은 NULL이 입력됨
→ NOT NULL 컬럼의 경우 오류 발생


전체 컬럼에 대한 데이터 입력 시 테이블명 뒤의 컬럼명 생략 가능


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1531f602a2b7.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1faa9acac8d2.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-2af9cbb8dec9.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-358535da6c9f.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1e815ae8e7f7.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-62d61e6b87cc.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-aeb3e983313d.png)


### UPDATE


데이터 수정할 때 사용


컬럼 단위 수행


다중 컬럼 수정 가능


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-8422c88f4f6d.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-797ea0f79169.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1ba4bb18075e.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-18734b3fd7a4.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-5a687836b1fb.png)


### DELETE


데이터를 삭제할 때 사용


행 단위 실행


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-2bdc99f1fbb4.png)


### MERGE


데이터 병합


참조 테이블과 동일하게 맞추는 작업(참조 테이블의 데이터 입력, 참조 테이블의 값으로 수정 등)
→ INSERT, UPDATE, DELETE 작업을 동시에 수행


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-0b03c357f5d9.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-8b8a99a6322b.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1a9e4a003efa.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-1346a9a83a5d.png)


![Untitled.png](/aibOS/public/images/posts/28e0a7f9-6a9eeaddacf4.png)


## TCL(TRANSACTION CONTROL LANGUAGE)


트랜잭션 제어어로 COMMIT, ROLLBACK 이 포함됨


DML에 의해 조작된 결과를 작업 단위(트랜잭션) 별로 제어하는 명령어


DML 수행 후 트랜잭션을 정상 종료하지 않는 경우 LOCK 발생할 수 있음
→ LOCK ? 트랜잭션이 수행하는 동안 특정 데이터에 대해서 다른 트랜잭션이 동시에 접근하지 못하도록 제한, 잠금이 걸린 데이터는 잠금을 실행한 트랜잭션만이 접근 및 해제 가능(관리자 권한 계정 제외)


### 트랜잭션


트랜잭션은 데이터베이스의 논리적 연산 단위(하나의 연속적인 업무 단위)


하나의 트랜잭션에는 하나 이상의 SQL 문이 포함


분할 할 수 없는 최소의 단위


ALL OR NOTHING 개념(모두 COMMIT 하거나 ROLLBACK 처리 해야 함)


원자성, 일관성, 고립성, 지속성


### COMMIT


데이터를 영구 저장


COMMIT 이전에 수행된 DML 은 모두 저장되며 되돌릴 수 없음


O : AUTO COMMIT, S:AUTO COMMIT 비활성화 가능


### ROLLBACK


데이터에 대해 변경 취소하는 명령어


최종 COMMIT 지점, 변경 전, 특정 savepoint 지점으로 원복됨


### DDL(Data Definition Language)


데이터 정의어


데이터 구조 정의(객체 생성, 삭제, 변경)


CREATE, ALTER, DROP, TRUNCATE


### 권한 부여 옵션


WITH GRANT OPTION


으로 받은 오브젝트 권한을 다른 사용자에게 부여할 수 있음


중간관리자가 부여한 권한은 중간관리자만 회수 가능


중간관리자에게 부여된 권한 회수 시 제3자에게 부여된 권한도 함께 회수됨


WITH ADMIN OPTION


시스템 권한, 롤 권한을 다른 사용자에게 부여할 수 있음


중간관리자 거치지 않고 직접 회수 가능


중간관리자 권한 회수 시 제3자에게 부여된 권한도 함께 회수

