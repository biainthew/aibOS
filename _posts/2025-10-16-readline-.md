---
layout: post
title: "Readline ?"
date: 2023-05-08
categories: [general]
tags: [Javascript/Jquery]
---


## ì‚¬ìš©í•˜ëŠ” ì´ìœ 


Readable stream ( ex. process.stdin ) ì—ì„œ ë°ì´í„°ë¥¼ í•œë²ˆì— í•œ ì¤„ì”© ì½ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ


## ê³µì‹ ì‚¬ì´íŠ¸ ê¸°ì¤€ ì‚¬ìš©ë°©ë²•


### promise ê¸°ë°˜


```javascript
import * as readline from 'node:readline/promises'
```


### ì½œë°±ê³¼ ì‹±í¬ë¥¼ ì´ìš©í•œ API ì‚¬ìš©ë²•


```javascript
import * as readline from 'node:readline'
```


### ê¸°ë³¸ì ì¸ ëª¨ë“ˆ ì‚¬ìš© ì˜ˆ


```javascript
import * as readline from 'node:readline/promises'
import { stdin as inputm, stdout as output } from 'node:process'

const rl = readline.createInterface({ input, output })
const answer = await rl.question('What do you think of Node.js?')
console.log(`Thank you for your caluable feedback: ${answer}`)
rl.close();
```


> ğŸ’¡ í•˜ì§€ë§Œ ì‚¬ëŒë“¤ì€ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤  
>   
> ëŒ€ì‹  `readline` ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ í›„ `input`, `output` ì„ í†µí•´ì„œ ì½˜ì†”ì— ì…ë ¥ê°’ì„ ë°›ëŠ” ì¤„ê³¼ ê²°ê³¼ê°’ì„ ë‚´ë†“ëŠ” ì¤„ì„ ì‘ì„±


## ì‹¤ì œ ì‚¬ìš©ë²•


### 1. ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°


```javascript
const readline = require('readline')
```


: ëŒ€ë¶€ë¶„ì˜ ê¸€ë“¤ì„ ë³´ë©´ `require()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ readline ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ë‹¤

> **ê·¸ ì´ìœ ëŠ” ?**  
>   
> ES6 ë°©ì‹ì´ ì•„ë‹Œ CommonJS ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•˜ê¸° ë•Œë¬¸  
> ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆí™” ëª…ì„¸ë¥¼ ë§Œë“  ëŒ€í‘œì ì¸ ê·¸ë£¹ ì¤‘ CommonJS ê°€ í˜„ì¬ node ì˜ í‘œì¤€ì¸ë° ê·¸ í‘œì¤€ ë°©ì‹ì´ `require()`  ê³¼ `module.exports` ì„  
> ê·¸ë˜ì„œ ì´ì „ì—ëŠ” ëŒ€ë¶€ë¶„ `require()` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆëŸ¬ì™”ì§€ë§Œ ES6 ê°€ ë‚˜ì˜¤ë©´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ìì²´ì—ì„œ ES6 Module ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆí™”ë¥¼ ì§€ì›í•˜ê¸° ì‹œì‘í•¨  
>   
> `module.exports`  
> - ë”± í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ë‚´ë³´ë‚¼ ê²½ìš° module.exports ë³€ìˆ˜ ìì²´ì— í• ë‹¹  
> - ë‹¨ ê°ì²´ë¥¼ ë¬¶ì–´ì„œ ì—¬ëŸ¬ ê°œ ê°’ì„ export í•  ìˆ˜ ìˆìŒ  
> `exports`  
> - ì—¬ëŸ¬ ê°œì˜ ê°ì²´ë¥¼ ë‚´ë³´ë‚¼ ê²½ìš°, exports ë³€ìˆ˜ì˜ ì†ì„±ìœ¼ë¡œ í• ë‹¹  
>   
> ê¸°ì¡´ì˜ `module.exports` ì˜ ë‹¨ì¶•ë¬¸ë²•ì´ `exports` ì´ë¯€ë¡œ í˜¼ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì˜³ìŒ  
> ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì—ì„œ ë³´ì•˜ë“¯ `module.exports` ëŠ” ë³€ìˆ˜ ìì²´ì— í• ë‹¹í•˜ê³  `exports` ëŠ” ë³€ìˆ˜ì˜ ì†ì„±ìœ¼ë¡œ í• ë‹¹  
> `exports` ëŠ” `modules.exports` ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜ë¡œì¨ ê·¸ ì‚¬ìš©ì„ ë„ì™€ì£¼ëŠ” helper ì—­í• ë¡œ ì°¸ì¡°ë§Œ

### 2. interface ê°ì²´ ë§Œë“¤ê¸°


```javascript
const rl = readline.createInterface({
	input: process.stdin,
	output: process.stdout
})

//stdin(standard input) stdout(standard output)
```


### 3. ì…ì¶œë ¥ ì½”ë“œ ì‘ì„±í•˜ê¸°


```javascript
rl.on('line', (line) => {
	//ì…ë ¥ë°›ì€ ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œ
	rl.close();
});

rl.on('close', () => {
	//ì…ë ¥ì´ ëë‚˜ê³  ì‹¤í–‰í•˜ëŠ” ì½”ë“œ
	process.exit();
})
```

> - `on()` ë©”ì„œë“œë¥¼ í™œìš©í•˜ì—¬ ì´ë²¤íŠ¸ì™€ ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬  
> - `â€˜lineâ€™` ì…ë ¥ ë°›ì€ ê°’ì„ í•œ ì¤„ì”© ì½ì–´ ë¬¸ìì—´ íƒ€ì…ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ì´ë²¤íŠ¸  
> - `rl.close()` ì¸í„°í˜ì´ìŠ¤ ì¢…ë£Œ, ë¬´í•œíˆ ì…ë ¥ë°›ëŠ” ê²ƒì„ ë°©ì§€, ê·¸ í›„ ë‹¤ì‹œ ì´ë²¤íŠ¸ë¡œ `close` ë¥¼ ì‘ì„±í•˜ì—¬ ì…ë ¥ì´ ëë‚œ í›„ ì‹¤í–‰ë˜ì–´ì•¼ í•  í•¨ìˆ˜ ì‘ì„±

## ì§ê°ì‚¼ê°í˜• ì¶œë ¥í•˜ê¸°


```javascript
const readline = require('readline');
const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

let input = [];
//ë¹ˆ ë°°ì—´ì„ ë§Œë“¤ì–´ ì£¼ê³ 

rl.on('line', function (line) {
    input = line.split(' ');
		//ì…ë ¥ê°’ì„ ë°°ì—´ì— ë„£ì–´ì£¼ê³ 
}).on('close', function () {
    for(let i=1; i<= input[0]; i++)
		//ê·¸ ë°°ì—´ì˜ 0ë²ˆì§¸ ë§Œí¼ for ë¬¸ì„ ëŒë¦¬ëŠ”ë°
    console.log('*'.repeat(i));
});
```

