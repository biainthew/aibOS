---
layout: post
title: "useEffect"
date: 2023-01-25
categories: [general]
tags: [React]
---


: ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆëŠ” Hook


: í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ componentDidMount ì™€ componentDidUpdate ë¥¼ í•©ì¹œ í˜•íƒœì™€ ìœ ì‚¬


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("ë Œë”ë§ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤");
    console.log({
      name,
      nickname,
    });
  });
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/6baad5da-de72-416b-af3d-509e4cedcb68/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V6L7MNIV%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T012506Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFEaCXVzLXdlc3QtMiJHMEUCIQC%2Bb6ciVh79lKu%2F5Z7Qc4GVpTlQfqpjfcAxuzz7tBY7WAIgJUhMdhQxdQk1BlpzyO%2FVGO2Wur6AKMtc7u3Srz1of%2BIq%2FwMIGhAAGgw2Mzc0MjMxODM4MDUiDHfAzFBIe6y9iXyORircA89T2CzQs4BNYSmrIXYAz2TPYIcO3T8xchaOsbKg2i7kFsbVUW85VgMrdeoWiBWjdEjj6W0s33CzdKNZVII86vK4YV1cBHQR13%2Fu4XGiIhSCX%2BZ6V%2B0TfTu23Hqv2nL%2Bz7sB0qafwjW1VWs6bcxRDEKrfJ521tAXPDYAB2yWXKBfUgoWvZ16FpDxMm86N9%2B3qQUtYkpkurXUbZlwu04%2Fzkwx977ftqRi9gVCIimz5EUg13sbkCAZfx%2Fhr6pjiA3rSKQwzjeMbEciYjROaAiIOtm7iWicxWogRVmMRo85a5D89f49MWb3p8%2FzKsUmJRcdo9cGMvlm2gInZ5z9WdzH%2F1wFcVZX1HUZgOky%2B4BsFfV3fjDLb0AxEgEvWpmGJT%2FoqNjByzwwO8h%2FunhWCSGgfF4XQeoPr%2BVIfoC0MSxfTnN9dVyuPDlrngKQ%2FETEzifzo8hJr%2FW%2B17V8tc6gOH8DLcMg84MUQ3S4OiQKmzAl7Uahjab4V88FYfE0r5xLVEqGEYx1z45n0H4GKlZubMquobe5vM8m99ChlHvxphZI4FhOLmM1SEAMBFSPboImi3stHXMiLhaIxHUE2qsRL7cS6lr5qLWFFkVwbrA9pIDOyZMVv%2BJ3fSeOaEPVg0%2FQMI7T1csGOqUB1CmA1az%2BSm3kl9vSUbEih5T6bfcM%2FU0Fy7gOKFkjQmHC58Q4nFkZYH0pmiWAPFpR6C8moN6SUugzeN3RUhVzMC3woX3BcaCVeSoQo2TrABHJgclLEMfHU4ZNs0TIvkfNMMExsIBGTViIy8Bgd7f%2BLSuaW6cdf5Xzrnxhw18m%2FZpaqjd2vstxHRjIGkldOOVMCDTPNH%2FDxPDU%2F5AA1sUH2lZwqKqm&X-Amz-Signature=58fe4b303e8b84549a5df09b537793fa88469765dcdaf522d68b6746255b8f1d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ğŸŒ€ ì²˜ìŒ ë‚˜íƒ€ë‚¬ì„ ë•Œ ë‘ ë²ˆ ì¶œë ¥ë˜ëŠ” ì´ìœ  : React.StrictMode ì—ì„œë§Œ ë°œìƒ, useEffect ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì— ë¬¸ì œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê°ì§€í•˜ê¸° ìœ„í•´ ë‘ ë²ˆ ì‹¤í–‰ì´ ë¨, ë¯¸ë˜ì˜ ë¦¬ì•¡íŠ¸ ë²„ì „ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì¡Œë‹¤ê°€ ë‹¤ì‹œ ë‚˜íƒ€ë‚˜ë„ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ì…ê´´ëŠ”ë° ê·¸ ë•Œ ë‘ ë²ˆ ì‹¤í–‰ì´ ë˜ì–´ë„ ì‘ë™ ë°©ì‹ì— ë¬¸ì œê°€ ì—†ì–´ì•¼ ì¶”í›„ í˜¸í™˜ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ê¸° ë•Œë¬¸


```javascript
useEffect(() => {
    console.log("ë§ˆìš´íŠ¸ ë  ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤");
  }, []);
```


ğŸŒ€ ì²˜ìŒ ë Œë”ë§ ë  ë•Œë§Œ ì‹¤í–‰í•˜ê³  ì—…ë°ì´íŠ¸ ë  ë•ŒëŠ” ì‹¤í–‰í•˜ì§€ ì•Šê³  ì‹¶ì„ ë•Œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ë¹ˆ ë°°ì—´ ë„£ê¸°


```javascript
useEffect(() => {
    console.log(name);
  }, [name]);
```


ğŸŒ€ íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œë§Œ í˜¸ì¶œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ê²€ì‚¬í•˜ê³  ì‹¶ì€ ê°’ ë„£ê¸°


ğŸŒ€ ë°°ì—´ ì•ˆì—ëŠ” useState ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ” ìƒíƒœ, props ë¡œ ì „ë‹¬ë°›ì€ ê°’ ë“±ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ


ğŸŒ€ ëŒ€ë¶€ë¶„ ë°°ì—´ì— ì˜ì¡´í•˜ëŠ” ê°’ì„ ë„£ì–´ì¤Œ, ë°°ì—´ì„ ì•„ì˜ˆ ìƒëµí•˜ëŠ” ìƒí™©ì€ ê±°ì˜ ì—†ìŒ


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("effect");
    console.log(name);
    return () => {
      console.log("clean up");
      console.log(name);
    };
  }, [name]);
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë˜ê¸° ì „ì´ë‚˜ ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì— ì–´ë–¤ ê°’ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ cleanup í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì•¼í•¨


ğŸŒ€ cleanup í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•ŒëŠ” ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì˜ ê°’ì„ ë³´ì—¬ì¤Œ


```javascript
useEffect(()=>{
    console.log('effect');
    return(()=>{
        console.log('ì–¸ë§ˆìš´íŠ¸')
    })
  },[])
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œë§Œ cleanup í•¨ìˆ˜ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ

