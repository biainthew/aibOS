---
layout: post
title: "useEffect"
date: 2023-01-25
categories: [general]
tags: [React]
---


: ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆëŠ” Hook


: í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ componentDidMount ì™€ componentDidUpdate ë¥¼ í•©ì¹œ í˜•íƒœì™€ ìœ ì‚¬


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("ë Œë”ë§ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤");
    console.log({
      name,
      nickname,
    });
  });
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/6baad5da-de72-416b-af3d-509e4cedcb68/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664AWI2JU7%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T012012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEkaCXVzLXdlc3QtMiJFMEMCIFo26uuuj7l9Mr19gUlA0AqCqCRLbwMw3v3P7cob6AqmAh9O1WkdPynoeTHlH2MHgxaNgFpb%2Bu%2FbVeyByfIKiFsCKv8DCBIQABoMNjM3NDIzMTgzODA1IgwRF9O6%2B9SLSGOPCgkq3AP81hldlc%2FrITX8hO7guFNsvNw4t%2F7Gh1Jslv9ny6dULqLir59BIHftHViNfW0jMYPmMr71joLssdEpVJmtMDsowVVCCO7Vg7l73YL3BtJP9BfpIsrWq0lYW7Nic%2BxBgkMWKmkzZV7nyR3c4FXRPlnD5o8GJyEDC15mjYHQOIj60gB6TkrCV%2F35XkSib07e24lKs5HYqrqjm3m5%2FtjRBfS8jRPT4FCRT2H%2F1I9OnOtPZDPOMt7P9izTtEcaaHV6dWGJMLS2OY%2BRbgxLPh4CVFkncKKx8PTK8Sco4ByazuX1YSQP8kk0sas9x%2B0UcSLhGqWoKMVOxHMOXNC3pF5kldqtgKbPH8BrZm2jbEIqHzGCE%2BJMJYbRPdp%2BxfhzNHxI2yLVb8CfsPWhSo5hxerf8paDas3QF7VF%2FrYYDRY7fCqKC6x3VCuzAFVRJVuc5SfQ1oqT1j06W3MfFFqdfs8WttHoY%2BA%2BROM%2FRs%2BmPMiXLVDEzFO79KW3LiclrTXTfcwG8BJYGHm%2BqL%2Butw0rpWa%2FS8Yvjfsx7T2mO%2BoFIlbm1z%2FpbQ0tj1ibbC2YFX%2BKiTXYhyWSwvRJwbkKGiJKEg%2Bjlxij6Eov40cUuMR%2BDlx8qSBptK3jjQMEN0kS09mD0DC%2B0JvLBjqnAXlHoom%2Buy4fusHJckMuX%2BR4ND9zOYuw%2BCQ1IDZ8ifQpUukoczVRtvt8xHCuMQU4Qv6te18VCemaIOF%2BDRcbgrwZ7MNGq6rzXzYkw%2FhweCjJ%2FtEj9jgJcdHtVHicGfX1P0S4XGU0IT%2FhDnnErtiqLmuaxW2KN5JKTqKZ8KDBAhxyE9aEs7vuY%2BJSBYFtYW7yHH4uwJXwfUg3GOiluI9FYbGsf6OLzKRJ&X-Amz-Signature=057f45360e0c72e9fc169edfd52685736c1f71f24065328260b51ff996666bac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ğŸŒ€ ì²˜ìŒ ë‚˜íƒ€ë‚¬ì„ ë•Œ ë‘ ë²ˆ ì¶œë ¥ë˜ëŠ” ì´ìœ  : React.StrictMode ì—ì„œë§Œ ë°œìƒ, useEffect ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì— ë¬¸ì œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê°ì§€í•˜ê¸° ìœ„í•´ ë‘ ë²ˆ ì‹¤í–‰ì´ ë¨, ë¯¸ë˜ì˜ ë¦¬ì•¡íŠ¸ ë²„ì „ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì¡Œë‹¤ê°€ ë‹¤ì‹œ ë‚˜íƒ€ë‚˜ë„ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ì…ê´´ëŠ”ë° ê·¸ ë•Œ ë‘ ë²ˆ ì‹¤í–‰ì´ ë˜ì–´ë„ ì‘ë™ ë°©ì‹ì— ë¬¸ì œê°€ ì—†ì–´ì•¼ ì¶”í›„ í˜¸í™˜ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ê¸° ë•Œë¬¸


```javascript
useEffect(() => {
    console.log("ë§ˆìš´íŠ¸ ë  ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤");
  }, []);
```


ğŸŒ€ ì²˜ìŒ ë Œë”ë§ ë  ë•Œë§Œ ì‹¤í–‰í•˜ê³  ì—…ë°ì´íŠ¸ ë  ë•ŒëŠ” ì‹¤í–‰í•˜ì§€ ì•Šê³  ì‹¶ì„ ë•Œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ë¹ˆ ë°°ì—´ ë„£ê¸°


```javascript
useEffect(() => {
    console.log(name);
  }, [name]);
```


ğŸŒ€ íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œë§Œ í˜¸ì¶œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ê²€ì‚¬í•˜ê³  ì‹¶ì€ ê°’ ë„£ê¸°


ğŸŒ€ ë°°ì—´ ì•ˆì—ëŠ” useState ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ” ìƒíƒœ, props ë¡œ ì „ë‹¬ë°›ì€ ê°’ ë“±ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ


ğŸŒ€ ëŒ€ë¶€ë¶„ ë°°ì—´ì— ì˜ì¡´í•˜ëŠ” ê°’ì„ ë„£ì–´ì¤Œ, ë°°ì—´ì„ ì•„ì˜ˆ ìƒëµí•˜ëŠ” ìƒí™©ì€ ê±°ì˜ ì—†ìŒ


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("effect");
    console.log(name);
    return () => {
      console.log("clean up");
      console.log(name);
    };
  }, [name]);
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë˜ê¸° ì „ì´ë‚˜ ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì— ì–´ë–¤ ê°’ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ cleanup í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì•¼í•¨


ğŸŒ€ cleanup í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•ŒëŠ” ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì˜ ê°’ì„ ë³´ì—¬ì¤Œ


```javascript
useEffect(()=>{
    console.log('effect');
    return(()=>{
        console.log('ì–¸ë§ˆìš´íŠ¸')
    })
  },[])
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œë§Œ cleanup í•¨ìˆ˜ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ

