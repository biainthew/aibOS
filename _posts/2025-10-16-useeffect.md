---
layout: post
title: "useEffect"
date: 2023-01-25
categories: [general]
tags: [React]
---


: ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆëŠ” Hook


: í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ componentDidMount ì™€ componentDidUpdate ë¥¼ í•©ì¹œ í˜•íƒœì™€ ìœ ì‚¬


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("ë Œë”ë§ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤");
    console.log({
      name,
      nickname,
    });
  });
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8fe0a7f9-120c-81d3-b4d8-0003f7c0f162/6baad5da-de72-416b-af3d-509e4cedcb68/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-01-29_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.08.32.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZT2JVOJ3%2F20260120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260120T011710Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBV8pkX%2BXzfoZ%2F9euaAKRTTcyVGc6SKirIP9kYYdwQIlAiEA6Zov2rBetiSqsPYz5Mt%2FDVwiSX0N30vjQ7QgvhfyV6oqiAQIoP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDP8jCiiSY6Iewsm0MyrcAyQQNHAjuxYLmRhbDxo6r1FVjswb0xVeRJGblEyecvMt4jG5S4GY5Xjkt2tG2t9EnxrWJT7oSM8pCS%2Fqyi1k%2BIfPlQcCtY4%2BxiqhDFq7lg6b1d4ON2HGoSwDsz0MeO0SfrdbT%2FHQ3qZc3QVTIv%2FbjcXS8OlbVWZab2KsXejXLdvpZlZPNSJ6HbF5ZokgkGvfqzxf9dCckhlyP4CYkZFauuF5US0JmGyYwoVJixDBQgMEIrQe07J0jjZgy4oBmqIqFz67ZOU0w9RDDSQs7Nx%2FHxjNc8uvMUQUmhCIEI3smMEo7VbWC9lKmNWP9VKLncL9TNCqMzSYgnCDCgxbl0W%2B3ZCf0fHksIcWZdDssON165R%2Bb%2FvxVOgRWKR0JxOLfoY2AiTM7SnsTDjEjIQdtcP0Znmb%2FLQrUorYnfJjzD7W8MFIwaECJJ%2FqKoAGOF%2FX9KYHUHLIALg%2F9aawFK0hlWRED1ZVE0jTJDwa306BPln1qyfgFKOcHRKe6Lr%2BUTi243MRrDtNJlVynpiO315NR8TklcuYw8mhFLyyxlwangOXPBusQM3jE8%2FaxBzyNCpTjjmXMobRmofrXxTlKMi4wyfNAmoDFawvt2WumiYEBys12Jdzlvx%2Bt8CcJ0oCS2QkMKr5ussGOqUB5g6q2JW3l9onHSIRB2c7G2KtJDQNSnHyc%2FkCfGzB0ArSq740qf8SnEQSMjIh2Dpm8ttAdKrm7QY4HQeccfZVxDsGfmcRBgD%2BlpcjSwjSmwSPN1yYySPLsceLpI4JjHzq%2BkcvpEfW2VnPbhBSYfDNbLnJVZ9g5w3xnaJ7TPYwt5b5jKMOtAbXIQc7c%2Fcb1DTsNWCM1njuLbJ9hhiOka1tGiLeUkdK&X-Amz-Signature=0f982fab60baf3e3cc3fb320a10d15c901cf682a2a0b79994e4297d4cb62ea9b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ğŸŒ€ ì²˜ìŒ ë‚˜íƒ€ë‚¬ì„ ë•Œ ë‘ ë²ˆ ì¶œë ¥ë˜ëŠ” ì´ìœ  : React.StrictMode ì—ì„œë§Œ ë°œìƒ, useEffect ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì— ë¬¸ì œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê°ì§€í•˜ê¸° ìœ„í•´ ë‘ ë²ˆ ì‹¤í–‰ì´ ë¨, ë¯¸ë˜ì˜ ë¦¬ì•¡íŠ¸ ë²„ì „ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì¡Œë‹¤ê°€ ë‹¤ì‹œ ë‚˜íƒ€ë‚˜ë„ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ì…ê´´ëŠ”ë° ê·¸ ë•Œ ë‘ ë²ˆ ì‹¤í–‰ì´ ë˜ì–´ë„ ì‘ë™ ë°©ì‹ì— ë¬¸ì œê°€ ì—†ì–´ì•¼ ì¶”í›„ í˜¸í™˜ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ê¸° ë•Œë¬¸


```javascript
useEffect(() => {
    console.log("ë§ˆìš´íŠ¸ ë  ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤");
  }, []);
```


ğŸŒ€ ì²˜ìŒ ë Œë”ë§ ë  ë•Œë§Œ ì‹¤í–‰í•˜ê³  ì—…ë°ì´íŠ¸ ë  ë•ŒëŠ” ì‹¤í–‰í•˜ì§€ ì•Šê³  ì‹¶ì„ ë•Œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ë¹ˆ ë°°ì—´ ë„£ê¸°


```javascript
useEffect(() => {
    console.log(name);
  }, [name]);
```


ğŸŒ€ íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œë§Œ í˜¸ì¶œ : ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ê²€ì‚¬í•˜ê³  ì‹¶ì€ ê°’ ë„£ê¸°


ğŸŒ€ ë°°ì—´ ì•ˆì—ëŠ” useState ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ” ìƒíƒœ, props ë¡œ ì „ë‹¬ë°›ì€ ê°’ ë“±ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ


ğŸŒ€ ëŒ€ë¶€ë¶„ ë°°ì—´ì— ì˜ì¡´í•˜ëŠ” ê°’ì„ ë„£ì–´ì¤Œ, ë°°ì—´ì„ ì•„ì˜ˆ ìƒëµí•˜ëŠ” ìƒí™©ì€ ê±°ì˜ ì—†ìŒ


```javascript
import { useEffect, useState } from "react";

const Info = () => {
  const [name, setName] = useState("");
  const [nickname, setNickname] = useState("");
  useEffect(() => {
    console.log("effect");
    console.log(name);
    return () => {
      console.log("clean up");
      console.log(name);
    };
  }, [name]);
  const onChangeName = (e) => {
    setName(e.target.value);
  };
  const onChangeNickname = (e) => {
    setNickname(e.target.value);
  };
  return (
    <div>
      <div>
        <input type="text" value={name} onChange={onChangeName} />
        <input type="text" value={nickname} onChange={onChangeNickname} />
      </div>
      <div>
        <b>ì´ë¦„:</b>
        {name}
      </div>
      <div>
        <b>ë‹‰ë„¤ì„:</b>
        {nickname}
      </div>
    </div>
  );
};

export default Info;
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë˜ê¸° ì „ì´ë‚˜ ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì— ì–´ë–¤ ê°’ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ë‹¤ë©´ cleanup í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì•¼í•¨


ğŸŒ€ cleanup í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•ŒëŠ” ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì˜ ê°’ì„ ë³´ì—¬ì¤Œ


```javascript
useEffect(()=>{
    console.log('effect');
    return(()=>{
        console.log('ì–¸ë§ˆìš´íŠ¸')
    })
  },[])
```


ğŸŒ€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œë§Œ cleanup í•¨ìˆ˜ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ

