---
layout: post
title: "식별관계 비식별관계"
date: 2025-01-13
categories: [general]
tags: [Sql]
excerpt_separator: ""
---



### 식별관계


**부모 테이블의 PK**가 **자식 테이블의 PK**에 포함됨


부모 테이블의 데이터 없이는 자식 데이터가 의미 없음


자식 테이블의 기본 키가 부모 테이블의 기본 키를 포함하기 때문에 복합 기본 키가 자주 사용됨


> 💡 **복합 기본 키 ❓**  
> 두 개 이상의 컬럼을 조합하여 기본 키를 구성하는 것 (유일성을 보장하기 위해 사용됨)  
>   
> ->PK가 한 개 이상이라는 뜻


```sql
CREATE TABLE Order (
    order_id INT PRIMARY KEY
);

CREATE TABLE OrderItem (
    order_id INT,
    item_id INT,
    PRIMARY KEY (order_id, item_id),
    FOREIGN KEY (order_id) REFERENCES Order(order_id)
);
```


### 비식별관계


**부모 테이블의 PK**가 **자식 테이블의 FK**로 사용되지만 PK에는 포함되지 않음


자식 테이블의 데이터는 부모 테이블과 독립적으로 존재할 수 있음


자식 테이블은 자신의 고유한 PK를 가짐


```sql
CREATE TABLE Customer (
    customer_id INT PRIMARY KEY
);

CREATE TABLE Order (
    order_id INT PRIMARY KEY,
    customer_id INT,
    FOREIGN KEY (customer_id) REFERENCES Customer(customer_id)
);
```


### 언제 사용 ?

- 식별관계 : 주문과 주문 상세 등
- 비식별관계 : 고객과 주문, 직원과 부서, 학생과 수업, 상품과 카테고리 등
