---
layout: post
title: "싱글톤 디자인 패턴"
date: 2025-10-02
categories: [general]
tags: [Java]
---


### 이 코드 이해하기


```java
class CounterManager {
    private static CounterManager manager = null;
    private int value = 0;
    private CounterManager() { }
    public static CounterManager getManager() {
        if (manager == null) {
            manager = new CounterManager();
        }
        return manager;
    }
    public void inValue() {
        value++;
    }
    public int getValue() {
        return value;
    }
}
class Main {
    public static void main(String[] args) {
        CounterManager c1 = CounterManager.getManager();
        CounterManager c2 = CounterManager.getManager();
        c1.inValue();
        c1.inValue();
        c2.inValue();
        System.out.println(c1.getValue());
        System.out.println(c2.getValue());
        System.out.println(c1 == c2);
    }
}
```


**초기 상태**


```java
// 값 초기화
private static CounterManager manager = null;
private int value = 0;
```


**Main 실행 1**


```java
CounterManager c1 = CounterManager.getManager();

// getManager() 호출
if (manager == null) {    // true (manager 는 null)
    manager = new CounterManager();    // 새로운 인스턴스 생성
    // CounterManager 객체 생성 (주소값 100으로 가정)
    // manager = 100 (new 연산자는 생성된 객체의 주소값을 반환함)
}
return manager;    // 100 반환
```


**Main 실행 2**


```java
CounterManager c2 = CounterManager.getManager();

// getManager() 호출
if (manager == null) {    // false (manager 는 100값을 가짐)
    // 새 객체 생성 안 함
return manager;    // 100 반환
```


**현재 상황** : `c1` 과 `c2` 가 같은 객체의 주소값을 가지고 있음


**Main 실행 3**


```java
c1.inValue();
c1.inValue();
c2.inValue();

public void inValue() {
    value++;
}

// c1과 c2가 같은 객체를 가리키고 있기 때문에 value 는 3이 됨
```


**출력**


```java
System.out.println(c1.getValue());    //3
System.out.println(c2.getValue());    //3
System.out.println(c1 == c2);         //True
```


### 결론


→ 싱글톤 디자인 패턴이다


싱글톤 디자인 패턴이란 클래스의 인스턴스가 프로그램 전체에서 **딱 하나만** 존재하도록 보장하는 디자인 패턴

